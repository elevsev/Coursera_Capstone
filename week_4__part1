{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Libraries"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {
    "ExecuteTime": {
     "end_time": "2021-01-26T19:23:18.061987Z",
     "start_time": "2021-01-26T19:22:56.605552Z"
    }
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Collecting package metadata (current_repodata.json): done\n",
      "Solving environment: done\n",
      "\n",
      "## Package Plan ##\n",
      "\n",
      "  environment location: /home/jupyterlab/conda/envs/python\n",
      "\n",
      "  added / updated specs:\n",
      "    - geopy\n",
      "\n",
      "\n",
      "The following packages will be downloaded:\n",
      "\n",
      "    package                    |            build\n",
      "    ---------------------------|-----------------\n",
      "    certifi-2020.12.5          |   py36h5fab9bb_1         143 KB  conda-forge\n",
      "    geographiclib-1.50         |             py_0          34 KB  conda-forge\n",
      "    geopy-2.1.0                |     pyhd3deb0d_0          64 KB  conda-forge\n",
      "    ------------------------------------------------------------\n",
      "                                           Total:         240 KB\n",
      "\n",
      "The following NEW packages will be INSTALLED:\n",
      "\n",
      "  geographiclib      conda-forge/noarch::geographiclib-1.50-py_0\n",
      "  geopy              conda-forge/noarch::geopy-2.1.0-pyhd3deb0d_0\n",
      "\n",
      "The following packages will be UPDATED:\n",
      "\n",
      "  certifi                          2020.12.5-py36h5fab9bb_0 --> 2020.12.5-py36h5fab9bb_1\n",
      "\n",
      "\n",
      "\n",
      "Downloading and Extracting Packages\n",
      "geopy-2.1.0          | 64 KB     | ##################################### | 100% \n",
      "certifi-2020.12.5    | 143 KB    | ##################################### | 100% \n",
      "geographiclib-1.50   | 34 KB     | ##################################### | 100% \n",
      "Preparing transaction: done\n",
      "Verifying transaction: done\n",
      "Executing transaction: done\n",
      "Libraries imported.\n"
     ]
    }
   ],
   "source": [
    "import numpy as np \n",
    "\n",
    "import pandas as pd \n",
    "pd.set_option('display.max_columns', None)\n",
    "pd.set_option('display.max_rows', None)\n",
    "\n",
    "#from bs4 import BeautifulSoup \n",
    "\n",
    "import json # library to handle JSON files\n",
    "\n",
    "import ssl\n",
    "ssl._create_default_https_context = ssl._create_unverified_context\n",
    "\n",
    "#!conda install -c conda-forge geopy --yes\n",
    "from geopy.geocoders import Nominatim # convert an address into latitude and longitude values\n",
    "\n",
    "import requests # library to handle requests\n",
    "from pandas.io.json import json_normalize # tranform JSON file into a pandas dataframe\n",
    "\n",
    "# Matplotlib and associated plotting modules\n",
    "import matplotlib.pyplot as plt\n",
    "import matplotlib.cm as cm\n",
    "import matplotlib.colors as colors\n",
    "%matplotlib inline\n",
    "\n",
    "# import k-means from clustering stage\n",
    "from sklearn.cluster import KMeans\n",
    "\n",
    "#!conda install -c conda-forge folium=0.5.0 --yes \n",
    "import folium # map rendering library\n",
    "\n",
    "print('Libraries imported.')"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Data: London, UK"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Collecting fsspec\n",
      "\u001b[?25l  Downloading https://files.pythonhosted.org/packages/ec/80/72ac0982cc833945fada4b76c52f0f65435ba4d53bc9317d1c70b5f7e7d5/fsspec-0.8.5-py3-none-any.whl (98kB)\n",
      "\u001b[K     |████████████████████████████████| 102kB 15.6MB/s ta 0:00:01\n",
      "\u001b[?25hInstalling collected packages: fsspec\n",
      "Successfully installed fsspec-0.8.5\n"
     ]
    }
   ],
   "source": [
    "#!pip install fsspec"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Code</th>\n",
       "      <th>Area_name</th>\n",
       "      <th>Inner/_Outer_London</th>\n",
       "      <th>GLA_Population_Estimate_2017</th>\n",
       "      <th>GLA_Household_Estimate_2017</th>\n",
       "      <th>Inland_Area_(Hectares)</th>\n",
       "      <th>Population_density_(per_hectare)_2017</th>\n",
       "      <th>Average_Age,_2017</th>\n",
       "      <th>Proportion_of_population_aged_0-15,_2015</th>\n",
       "      <th>Proportion_of_population_of_working-age,_2015</th>\n",
       "      <th>Proportion_of_population_aged_65_and_over,_2015</th>\n",
       "      <th>Net_internal_migration_(2015)</th>\n",
       "      <th>Net_international_migration_(2015)</th>\n",
       "      <th>Net_natural_change_(2015)</th>\n",
       "      <th>%_of_resident_population_born_abroad_(2015)</th>\n",
       "      <th>Largest_migrant_population_by_country_of_birth_(2011)</th>\n",
       "      <th>%_of_largest_migrant_population_(2011)</th>\n",
       "      <th>Second_largest_migrant_population_by_country_of_birth_(2011)</th>\n",
       "      <th>%_of_second_largest_migrant_population_(2011)</th>\n",
       "      <th>Third_largest_migrant_population_by_country_of_birth_(2011)</th>\n",
       "      <th>%_of_third_largest_migrant_population_(2011)</th>\n",
       "      <th>%_of_population_from_BAME_groups_(2016)</th>\n",
       "      <th>%_people_aged_3+_whose_main_language_is_not_English_(2011_Census)</th>\n",
       "      <th>Overseas_nationals_entering_the_UK_(NINo),_(2015/16)</th>\n",
       "      <th>New_migrant_(NINo)_rates,_(2015/16)</th>\n",
       "      <th>Largest_migrant_population_arrived_during_2015/16</th>\n",
       "      <th>Second_largest_migrant_population_arrived_during_2015/16</th>\n",
       "      <th>Third_largest_migrant_population_arrived_during_2015/16</th>\n",
       "      <th>Employment_rate_(%)_(2015)</th>\n",
       "      <th>Male_employment_rate_(2015)</th>\n",
       "      <th>Female_employment_rate_(2015)</th>\n",
       "      <th>Unemployment_rate_(2015)</th>\n",
       "      <th>Youth_Unemployment_(claimant)_rate_18-24_(Dec-15)</th>\n",
       "      <th>Proportion_of_16-18_year_olds_who_are_NEET_(%)_(2014)</th>\n",
       "      <th>Proportion_of_the_working-age_population_who_claim_out-of-work_benefits_(%)_(May-2016)</th>\n",
       "      <th>%_working-age_with_a_disability_(2015)</th>\n",
       "      <th>Proportion_of_working_age_people_with_no_qualifications_(%)_2015</th>\n",
       "      <th>Proportion_of_working_age_with_degree_or_equivalent_and_above_(%)_2015</th>\n",
       "      <th>Gross_Annual_Pay,_(2016)</th>\n",
       "      <th>Gross_Annual_Pay_-_Male_(2016)</th>\n",
       "      <th>Gross_Annual_Pay_-_Female_(2016)</th>\n",
       "      <th>Modelled_Household_median_income_estimates_2012/13</th>\n",
       "      <th>%_adults_that_volunteered_in_past_12_months_(2010/11_to_2012/13)</th>\n",
       "      <th>Number_of_jobs_by_workplace_(2014)</th>\n",
       "      <th>%_of_employment_that_is_in_public_sector_(2014)</th>\n",
       "      <th>Jobs_Density,_2015</th>\n",
       "      <th>Number_of_active_businesses,_2015</th>\n",
       "      <th>Two-year_business_survival_rates_(started_in_2013)</th>\n",
       "      <th>Crime_rates_per_thousand_population_2014/15</th>\n",
       "      <th>Fires_per_thousand_population_(2014)</th>\n",
       "      <th>Ambulance_incidents_per_hundred_population_(2014)</th>\n",
       "      <th>Median_House_Price,_2015</th>\n",
       "      <th>Average_Band_D_Council_Tax_charge_(£),_2015/16</th>\n",
       "      <th>New_Homes_(net)_2015/16_(provisional)</th>\n",
       "      <th>Homes_Owned_outright,_(2014)_%</th>\n",
       "      <th>Being_bought_with_mortgage_or_loan,_(2014)_%</th>\n",
       "      <th>Rented_from_Local_Authority_or_Housing_Association,_(2014)_%</th>\n",
       "      <th>Rented_from_Private_landlord,_(2014)_%</th>\n",
       "      <th>%_of_area_that_is_Greenspace,_2005</th>\n",
       "      <th>Total_carbon_emissions_(2014)</th>\n",
       "      <th>Household_Waste_Recycling_Rate,_2014/15</th>\n",
       "      <th>Number_of_cars,_(2011_Census)</th>\n",
       "      <th>Number_of_cars_per_household,_(2011_Census)</th>\n",
       "      <th>%_of_adults_who_cycle_at_least_once_per_month,_2014/15</th>\n",
       "      <th>Average_Public_Transport_Accessibility_score,_2014</th>\n",
       "      <th>Achievement_of_5_or_more_A*-_C_grades_at_GCSE_or_equivalent_including_English_and_Maths,_2013/14</th>\n",
       "      <th>Rates_of_Children_Looked_After_(2016)</th>\n",
       "      <th>%_of_pupils_whose_first_language_is_not_English_(2015)</th>\n",
       "      <th>%_children_living_in_out-of-work_households_(2015)</th>\n",
       "      <th>Male_life_expectancy,_(2012-14)</th>\n",
       "      <th>Female_life_expectancy,_(2012-14)</th>\n",
       "      <th>Teenage_conception_rate_(2014)</th>\n",
       "      <th>Life_satisfaction_score_2011-14_(out_of_10)</th>\n",
       "      <th>Worthwhileness_score_2011-14_(out_of_10)</th>\n",
       "      <th>Happiness_score_2011-14_(out_of_10)</th>\n",
       "      <th>Anxiety_score_2011-14_(out_of_10)</th>\n",
       "      <th>Childhood_Obesity_Prevalance_(%)_2015/16</th>\n",
       "      <th>People_aged_17+_with_diabetes_(%)</th>\n",
       "      <th>Mortality_rate_from_causes_considered_preventable_2012/14</th>\n",
       "      <th>Political_control_in_council</th>\n",
       "      <th>Proportion_of_seats_won_by_Conservatives_in_2014_election</th>\n",
       "      <th>Proportion_of_seats_won_by_Labour_in_2014_election</th>\n",
       "      <th>Proportion_of_seats_won_by_Lib_Dems_in_2014_election</th>\n",
       "      <th>Turnout_at_2014_local_elections</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>E09000001</td>\n",
       "      <td>City of London</td>\n",
       "      <td>Inner London</td>\n",
       "      <td>8800</td>\n",
       "      <td>5326</td>\n",
       "      <td>290</td>\n",
       "      <td>30.3</td>\n",
       "      <td>43.2</td>\n",
       "      <td>11.4</td>\n",
       "      <td>73.1</td>\n",
       "      <td>15.5</td>\n",
       "      <td>-7</td>\n",
       "      <td>665</td>\n",
       "      <td>30</td>\n",
       "      <td>.</td>\n",
       "      <td>United States</td>\n",
       "      <td>2.8</td>\n",
       "      <td>France</td>\n",
       "      <td>2</td>\n",
       "      <td>Australia</td>\n",
       "      <td>1.9</td>\n",
       "      <td>27.5</td>\n",
       "      <td>17.1</td>\n",
       "      <td>975</td>\n",
       "      <td>152.2</td>\n",
       "      <td>India</td>\n",
       "      <td>France</td>\n",
       "      <td>United States</td>\n",
       "      <td>64.6</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>1.6</td>\n",
       "      <td>.</td>\n",
       "      <td>3.4</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>£63,620</td>\n",
       "      <td>.</td>\n",
       "      <td>500400</td>\n",
       "      <td>3.4</td>\n",
       "      <td>84.3</td>\n",
       "      <td>26130</td>\n",
       "      <td>64.3</td>\n",
       "      <td>.</td>\n",
       "      <td>12.3</td>\n",
       "      <td>.</td>\n",
       "      <td>799999</td>\n",
       "      <td>931.2</td>\n",
       "      <td>80</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>4.8</td>\n",
       "      <td>1036</td>\n",
       "      <td>34.4</td>\n",
       "      <td>1692</td>\n",
       "      <td>0.4</td>\n",
       "      <td>16.9</td>\n",
       "      <td>7.9</td>\n",
       "      <td>78.6</td>\n",
       "      <td>101</td>\n",
       "      <td>.</td>\n",
       "      <td>7.9</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>6.6</td>\n",
       "      <td>7.1</td>\n",
       "      <td>6.0</td>\n",
       "      <td>5.6</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2.6</td>\n",
       "      <td>129</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "      <td>.</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>E09000002</td>\n",
       "      <td>Barking and Dagenham</td>\n",
       "      <td>Outer London</td>\n",
       "      <td>209000</td>\n",
       "      <td>78188</td>\n",
       "      <td>3,611</td>\n",
       "      <td>57.9</td>\n",
       "      <td>32.9</td>\n",
       "      <td>27.2</td>\n",
       "      <td>63.1</td>\n",
       "      <td>9.7</td>\n",
       "      <td>-1176</td>\n",
       "      <td>2509</td>\n",
       "      <td>2356</td>\n",
       "      <td>37.8</td>\n",
       "      <td>Nigeria</td>\n",
       "      <td>4.7</td>\n",
       "      <td>India</td>\n",
       "      <td>2.3</td>\n",
       "      <td>Pakistan</td>\n",
       "      <td>2.3</td>\n",
       "      <td>49.5</td>\n",
       "      <td>18.7</td>\n",
       "      <td>7,538</td>\n",
       "      <td>59.1</td>\n",
       "      <td>Romania</td>\n",
       "      <td>Bulgaria</td>\n",
       "      <td>Lithuania</td>\n",
       "      <td>65.8</td>\n",
       "      <td>75.6</td>\n",
       "      <td>56.5</td>\n",
       "      <td>11</td>\n",
       "      <td>4.5</td>\n",
       "      <td>5.7</td>\n",
       "      <td>10.5</td>\n",
       "      <td>17.2</td>\n",
       "      <td>11.3</td>\n",
       "      <td>32.2</td>\n",
       "      <td>27886</td>\n",
       "      <td>30104</td>\n",
       "      <td>24602</td>\n",
       "      <td>£29,420</td>\n",
       "      <td>20.5</td>\n",
       "      <td>58900</td>\n",
       "      <td>21.1</td>\n",
       "      <td>0.5</td>\n",
       "      <td>6560</td>\n",
       "      <td>73.0</td>\n",
       "      <td>83.4</td>\n",
       "      <td>3</td>\n",
       "      <td>13.7</td>\n",
       "      <td>243500</td>\n",
       "      <td>1354.03</td>\n",
       "      <td>730</td>\n",
       "      <td>16.4</td>\n",
       "      <td>27.4</td>\n",
       "      <td>35.9</td>\n",
       "      <td>20.3</td>\n",
       "      <td>33.6</td>\n",
       "      <td>644</td>\n",
       "      <td>23.4</td>\n",
       "      <td>56966</td>\n",
       "      <td>0.8</td>\n",
       "      <td>8.8</td>\n",
       "      <td>3</td>\n",
       "      <td>58</td>\n",
       "      <td>69</td>\n",
       "      <td>41.7</td>\n",
       "      <td>18.7</td>\n",
       "      <td>77.6</td>\n",
       "      <td>82.1</td>\n",
       "      <td>32.4</td>\n",
       "      <td>7.1</td>\n",
       "      <td>7.6</td>\n",
       "      <td>7.1</td>\n",
       "      <td>3.1</td>\n",
       "      <td>28.5</td>\n",
       "      <td>7.3</td>\n",
       "      <td>228</td>\n",
       "      <td>Lab</td>\n",
       "      <td>0</td>\n",
       "      <td>100</td>\n",
       "      <td>0</td>\n",
       "      <td>36.5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>E09000003</td>\n",
       "      <td>Barnet</td>\n",
       "      <td>Outer London</td>\n",
       "      <td>389600</td>\n",
       "      <td>151423</td>\n",
       "      <td>8,675</td>\n",
       "      <td>44.9</td>\n",
       "      <td>37.3</td>\n",
       "      <td>21.1</td>\n",
       "      <td>64.9</td>\n",
       "      <td>14.0</td>\n",
       "      <td>-3379</td>\n",
       "      <td>5407</td>\n",
       "      <td>2757</td>\n",
       "      <td>35.2</td>\n",
       "      <td>India</td>\n",
       "      <td>3.1</td>\n",
       "      <td>Poland</td>\n",
       "      <td>2.4</td>\n",
       "      <td>Iran</td>\n",
       "      <td>2</td>\n",
       "      <td>38.7</td>\n",
       "      <td>23.4</td>\n",
       "      <td>13,094</td>\n",
       "      <td>53.1</td>\n",
       "      <td>Romania</td>\n",
       "      <td>Poland</td>\n",
       "      <td>Italy</td>\n",
       "      <td>68.5</td>\n",
       "      <td>74.5</td>\n",
       "      <td>62.9</td>\n",
       "      <td>8.5</td>\n",
       "      <td>1.9</td>\n",
       "      <td>2.5</td>\n",
       "      <td>6.2</td>\n",
       "      <td>14.9</td>\n",
       "      <td>5.2</td>\n",
       "      <td>49</td>\n",
       "      <td>33443</td>\n",
       "      <td>36475</td>\n",
       "      <td>31235</td>\n",
       "      <td>£40,530</td>\n",
       "      <td>33.2</td>\n",
       "      <td>167300</td>\n",
       "      <td>18.7</td>\n",
       "      <td>0.7</td>\n",
       "      <td>26190</td>\n",
       "      <td>73.8</td>\n",
       "      <td>62.7</td>\n",
       "      <td>1.6</td>\n",
       "      <td>11.1</td>\n",
       "      <td>445000</td>\n",
       "      <td>1397.07</td>\n",
       "      <td>1460</td>\n",
       "      <td>32.4</td>\n",
       "      <td>25.2</td>\n",
       "      <td>11.1</td>\n",
       "      <td>31.1</td>\n",
       "      <td>41.3</td>\n",
       "      <td>1415</td>\n",
       "      <td>38</td>\n",
       "      <td>144717</td>\n",
       "      <td>1.1</td>\n",
       "      <td>7.4</td>\n",
       "      <td>3</td>\n",
       "      <td>67.3</td>\n",
       "      <td>35</td>\n",
       "      <td>46</td>\n",
       "      <td>9.3</td>\n",
       "      <td>82.1</td>\n",
       "      <td>85.1</td>\n",
       "      <td>12.8</td>\n",
       "      <td>7.5</td>\n",
       "      <td>7.8</td>\n",
       "      <td>7.4</td>\n",
       "      <td>2.8</td>\n",
       "      <td>20.7</td>\n",
       "      <td>6.0</td>\n",
       "      <td>134</td>\n",
       "      <td>Cons</td>\n",
       "      <td>50.8</td>\n",
       "      <td>.</td>\n",
       "      <td>1.6</td>\n",
       "      <td>40.5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>E09000004</td>\n",
       "      <td>Bexley</td>\n",
       "      <td>Outer London</td>\n",
       "      <td>244300</td>\n",
       "      <td>97736</td>\n",
       "      <td>6,058</td>\n",
       "      <td>40.3</td>\n",
       "      <td>39.0</td>\n",
       "      <td>20.6</td>\n",
       "      <td>62.9</td>\n",
       "      <td>16.6</td>\n",
       "      <td>413</td>\n",
       "      <td>760</td>\n",
       "      <td>1095</td>\n",
       "      <td>16.1</td>\n",
       "      <td>Nigeria</td>\n",
       "      <td>2.6</td>\n",
       "      <td>India</td>\n",
       "      <td>1.5</td>\n",
       "      <td>Ireland</td>\n",
       "      <td>0.9</td>\n",
       "      <td>21.4</td>\n",
       "      <td>6</td>\n",
       "      <td>2,198</td>\n",
       "      <td>14.4</td>\n",
       "      <td>Romania</td>\n",
       "      <td>Poland</td>\n",
       "      <td>Nigeria</td>\n",
       "      <td>75.1</td>\n",
       "      <td>82.1</td>\n",
       "      <td>68.5</td>\n",
       "      <td>7.6</td>\n",
       "      <td>2.9</td>\n",
       "      <td>3.4</td>\n",
       "      <td>6.8</td>\n",
       "      <td>15.9</td>\n",
       "      <td>10.8</td>\n",
       "      <td>33.5</td>\n",
       "      <td>34350</td>\n",
       "      <td>37881</td>\n",
       "      <td>28924</td>\n",
       "      <td>£36,990</td>\n",
       "      <td>22.1</td>\n",
       "      <td>80700</td>\n",
       "      <td>15.9</td>\n",
       "      <td>0.6</td>\n",
       "      <td>9075</td>\n",
       "      <td>73.5</td>\n",
       "      <td>51.8</td>\n",
       "      <td>2.3</td>\n",
       "      <td>11.8</td>\n",
       "      <td>275000</td>\n",
       "      <td>1472.43</td>\n",
       "      <td>-130</td>\n",
       "      <td>38.1</td>\n",
       "      <td>35.3</td>\n",
       "      <td>15.2</td>\n",
       "      <td>11.4</td>\n",
       "      <td>31.7</td>\n",
       "      <td>975</td>\n",
       "      <td>54</td>\n",
       "      <td>108507</td>\n",
       "      <td>1.2</td>\n",
       "      <td>10.6</td>\n",
       "      <td>2.6</td>\n",
       "      <td>60.3</td>\n",
       "      <td>46</td>\n",
       "      <td>32.6</td>\n",
       "      <td>12.6</td>\n",
       "      <td>80.4</td>\n",
       "      <td>84.4</td>\n",
       "      <td>19.5</td>\n",
       "      <td>7.4</td>\n",
       "      <td>7.7</td>\n",
       "      <td>7.2</td>\n",
       "      <td>3.3</td>\n",
       "      <td>22.7</td>\n",
       "      <td>6.9</td>\n",
       "      <td>164</td>\n",
       "      <td>Cons</td>\n",
       "      <td>71.4</td>\n",
       "      <td>23.8</td>\n",
       "      <td>0</td>\n",
       "      <td>39.6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>E09000005</td>\n",
       "      <td>Brent</td>\n",
       "      <td>Outer London</td>\n",
       "      <td>332100</td>\n",
       "      <td>121048</td>\n",
       "      <td>4,323</td>\n",
       "      <td>76.8</td>\n",
       "      <td>35.6</td>\n",
       "      <td>20.9</td>\n",
       "      <td>67.8</td>\n",
       "      <td>11.3</td>\n",
       "      <td>-7739</td>\n",
       "      <td>7640</td>\n",
       "      <td>3372</td>\n",
       "      <td>53.9</td>\n",
       "      <td>India</td>\n",
       "      <td>9.2</td>\n",
       "      <td>Poland</td>\n",
       "      <td>3.4</td>\n",
       "      <td>Ireland</td>\n",
       "      <td>2.9</td>\n",
       "      <td>64.9</td>\n",
       "      <td>37.2</td>\n",
       "      <td>22,162</td>\n",
       "      <td>100.9</td>\n",
       "      <td>Romania</td>\n",
       "      <td>Italy</td>\n",
       "      <td>Portugal</td>\n",
       "      <td>69.5</td>\n",
       "      <td>76</td>\n",
       "      <td>62.6</td>\n",
       "      <td>7.5</td>\n",
       "      <td>3.1</td>\n",
       "      <td>2.6</td>\n",
       "      <td>8.3</td>\n",
       "      <td>17.7</td>\n",
       "      <td>6.2</td>\n",
       "      <td>45.1</td>\n",
       "      <td>29812</td>\n",
       "      <td>30129</td>\n",
       "      <td>29600</td>\n",
       "      <td>£32,140</td>\n",
       "      <td>17.3</td>\n",
       "      <td>133600</td>\n",
       "      <td>17.6</td>\n",
       "      <td>0.6</td>\n",
       "      <td>15745</td>\n",
       "      <td>74.4</td>\n",
       "      <td>78.8</td>\n",
       "      <td>1.8</td>\n",
       "      <td>12.1</td>\n",
       "      <td>407250</td>\n",
       "      <td>1377.24</td>\n",
       "      <td>1050</td>\n",
       "      <td>22.2</td>\n",
       "      <td>22.6</td>\n",
       "      <td>20.4</td>\n",
       "      <td>34.8</td>\n",
       "      <td>21.9</td>\n",
       "      <td>1175</td>\n",
       "      <td>35.2</td>\n",
       "      <td>87802</td>\n",
       "      <td>0.8</td>\n",
       "      <td>7.9</td>\n",
       "      <td>3.7</td>\n",
       "      <td>60.1</td>\n",
       "      <td>45</td>\n",
       "      <td>37.6</td>\n",
       "      <td>13.7</td>\n",
       "      <td>80.1</td>\n",
       "      <td>85.1</td>\n",
       "      <td>18.5</td>\n",
       "      <td>7.3</td>\n",
       "      <td>7.4</td>\n",
       "      <td>7.2</td>\n",
       "      <td>2.9</td>\n",
       "      <td>24.3</td>\n",
       "      <td>7.9</td>\n",
       "      <td>169</td>\n",
       "      <td>Lab</td>\n",
       "      <td>9.5</td>\n",
       "      <td>88.9</td>\n",
       "      <td>1.6</td>\n",
       "      <td>36.3</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "        Code             Area_name Inner/_Outer_London  \\\n",
       "0  E09000001        City of London        Inner London   \n",
       "1  E09000002  Barking and Dagenham        Outer London   \n",
       "2  E09000003                Barnet        Outer London   \n",
       "3  E09000004                Bexley        Outer London   \n",
       "4  E09000005                 Brent        Outer London   \n",
       "\n",
       "   GLA_Population_Estimate_2017 GLA_Household_Estimate_2017  \\\n",
       "0                          8800                        5326   \n",
       "1                        209000                       78188   \n",
       "2                        389600                      151423   \n",
       "3                        244300                       97736   \n",
       "4                        332100                      121048   \n",
       "\n",
       "  Inland_Area_(Hectares) Population_density_(per_hectare)_2017  \\\n",
       "0                    290                                  30.3   \n",
       "1                  3,611                                  57.9   \n",
       "2                  8,675                                  44.9   \n",
       "3                  6,058                                  40.3   \n",
       "4                  4,323                                  76.8   \n",
       "\n",
       "   Average_Age,_2017  Proportion_of_population_aged_0-15,_2015  \\\n",
       "0               43.2                                      11.4   \n",
       "1               32.9                                      27.2   \n",
       "2               37.3                                      21.1   \n",
       "3               39.0                                      20.6   \n",
       "4               35.6                                      20.9   \n",
       "\n",
       "   Proportion_of_population_of_working-age,_2015  \\\n",
       "0                                           73.1   \n",
       "1                                           63.1   \n",
       "2                                           64.9   \n",
       "3                                           62.9   \n",
       "4                                           67.8   \n",
       "\n",
       "   Proportion_of_population_aged_65_and_over,_2015  \\\n",
       "0                                             15.5   \n",
       "1                                              9.7   \n",
       "2                                             14.0   \n",
       "3                                             16.6   \n",
       "4                                             11.3   \n",
       "\n",
       "  Net_internal_migration_(2015) Net_international_migration_(2015)  \\\n",
       "0                            -7                                665   \n",
       "1                         -1176                               2509   \n",
       "2                         -3379                               5407   \n",
       "3                           413                                760   \n",
       "4                         -7739                               7640   \n",
       "\n",
       "  Net_natural_change_(2015) %_of_resident_population_born_abroad_(2015)  \\\n",
       "0                        30                                           .   \n",
       "1                      2356                                        37.8   \n",
       "2                      2757                                        35.2   \n",
       "3                      1095                                        16.1   \n",
       "4                      3372                                        53.9   \n",
       "\n",
       "  Largest_migrant_population_by_country_of_birth_(2011)  \\\n",
       "0                                      United States      \n",
       "1                                            Nigeria      \n",
       "2                                              India      \n",
       "3                                            Nigeria      \n",
       "4                                              India      \n",
       "\n",
       "  %_of_largest_migrant_population_(2011)  \\\n",
       "0                                    2.8   \n",
       "1                                    4.7   \n",
       "2                                    3.1   \n",
       "3                                    2.6   \n",
       "4                                    9.2   \n",
       "\n",
       "  Second_largest_migrant_population_by_country_of_birth_(2011)  \\\n",
       "0                                             France             \n",
       "1                                              India             \n",
       "2                                             Poland             \n",
       "3                                              India             \n",
       "4                                             Poland             \n",
       "\n",
       "  %_of_second_largest_migrant_population_(2011)  \\\n",
       "0                                             2   \n",
       "1                                           2.3   \n",
       "2                                           2.4   \n",
       "3                                           1.5   \n",
       "4                                           3.4   \n",
       "\n",
       "  Third_largest_migrant_population_by_country_of_birth_(2011)  \\\n",
       "0                                          Australia            \n",
       "1                                           Pakistan            \n",
       "2                                               Iran            \n",
       "3                                            Ireland            \n",
       "4                                            Ireland            \n",
       "\n",
       "  %_of_third_largest_migrant_population_(2011)  \\\n",
       "0                                          1.9   \n",
       "1                                          2.3   \n",
       "2                                            2   \n",
       "3                                          0.9   \n",
       "4                                          2.9   \n",
       "\n",
       "  %_of_population_from_BAME_groups_(2016)  \\\n",
       "0                                    27.5   \n",
       "1                                    49.5   \n",
       "2                                    38.7   \n",
       "3                                    21.4   \n",
       "4                                    64.9   \n",
       "\n",
       "  %_people_aged_3+_whose_main_language_is_not_English_(2011_Census)  \\\n",
       "0                                               17.1                  \n",
       "1                                               18.7                  \n",
       "2                                               23.4                  \n",
       "3                                                  6                  \n",
       "4                                               37.2                  \n",
       "\n",
       "  Overseas_nationals_entering_the_UK_(NINo),_(2015/16)  \\\n",
       "0                                                975     \n",
       "1                                              7,538     \n",
       "2                                             13,094     \n",
       "3                                              2,198     \n",
       "4                                             22,162     \n",
       "\n",
       "   New_migrant_(NINo)_rates,_(2015/16)  \\\n",
       "0                                152.2   \n",
       "1                                 59.1   \n",
       "2                                 53.1   \n",
       "3                                 14.4   \n",
       "4                                100.9   \n",
       "\n",
       "  Largest_migrant_population_arrived_during_2015/16  \\\n",
       "0                                             India   \n",
       "1                                           Romania   \n",
       "2                                           Romania   \n",
       "3                                           Romania   \n",
       "4                                           Romania   \n",
       "\n",
       "  Second_largest_migrant_population_arrived_during_2015/16  \\\n",
       "0                                             France         \n",
       "1                                           Bulgaria         \n",
       "2                                             Poland         \n",
       "3                                             Poland         \n",
       "4                                              Italy         \n",
       "\n",
       "  Third_largest_migrant_population_arrived_during_2015/16  \\\n",
       "0                                      United States        \n",
       "1                                          Lithuania        \n",
       "2                                              Italy        \n",
       "3                                            Nigeria        \n",
       "4                                           Portugal        \n",
       "\n",
       "   Employment_rate_(%)_(2015) Male_employment_rate_(2015)  \\\n",
       "0                        64.6                           .   \n",
       "1                        65.8                        75.6   \n",
       "2                        68.5                        74.5   \n",
       "3                        75.1                        82.1   \n",
       "4                        69.5                          76   \n",
       "\n",
       "  Female_employment_rate_(2015) Unemployment_rate_(2015)  \\\n",
       "0                             .                        .   \n",
       "1                          56.5                       11   \n",
       "2                          62.9                      8.5   \n",
       "3                          68.5                      7.6   \n",
       "4                          62.6                      7.5   \n",
       "\n",
       "  Youth_Unemployment_(claimant)_rate_18-24_(Dec-15)  \\\n",
       "0                                               1.6   \n",
       "1                                               4.5   \n",
       "2                                               1.9   \n",
       "3                                               2.9   \n",
       "4                                               3.1   \n",
       "\n",
       "  Proportion_of_16-18_year_olds_who_are_NEET_(%)_(2014)  \\\n",
       "0                                                  .      \n",
       "1                                                5.7      \n",
       "2                                                2.5      \n",
       "3                                                3.4      \n",
       "4                                                2.6      \n",
       "\n",
       "  Proportion_of_the_working-age_population_who_claim_out-of-work_benefits_(%)_(May-2016)  \\\n",
       "0                                                3.4                                       \n",
       "1                                               10.5                                       \n",
       "2                                                6.2                                       \n",
       "3                                                6.8                                       \n",
       "4                                                8.3                                       \n",
       "\n",
       "  %_working-age_with_a_disability_(2015)  \\\n",
       "0                                      .   \n",
       "1                                   17.2   \n",
       "2                                   14.9   \n",
       "3                                   15.9   \n",
       "4                                   17.7   \n",
       "\n",
       "  Proportion_of_working_age_people_with_no_qualifications_(%)_2015  \\\n",
       "0                                                  .                 \n",
       "1                                               11.3                 \n",
       "2                                                5.2                 \n",
       "3                                               10.8                 \n",
       "4                                                6.2                 \n",
       "\n",
       "  Proportion_of_working_age_with_degree_or_equivalent_and_above_(%)_2015  \\\n",
       "0                                                  .                       \n",
       "1                                               32.2                       \n",
       "2                                                 49                       \n",
       "3                                               33.5                       \n",
       "4                                               45.1                       \n",
       "\n",
       "  Gross_Annual_Pay,_(2016) Gross_Annual_Pay_-_Male_(2016)  \\\n",
       "0                        .                              .   \n",
       "1                    27886                          30104   \n",
       "2                    33443                          36475   \n",
       "3                    34350                          37881   \n",
       "4                    29812                          30129   \n",
       "\n",
       "  Gross_Annual_Pay_-_Female_(2016)  \\\n",
       "0                                .   \n",
       "1                            24602   \n",
       "2                            31235   \n",
       "3                            28924   \n",
       "4                            29600   \n",
       "\n",
       "  Modelled_Household_median_income_estimates_2012/13  \\\n",
       "0                                            £63,620   \n",
       "1                                            £29,420   \n",
       "2                                            £40,530   \n",
       "3                                            £36,990   \n",
       "4                                            £32,140   \n",
       "\n",
       "  %_adults_that_volunteered_in_past_12_months_(2010/11_to_2012/13)  \\\n",
       "0                                                  .                 \n",
       "1                                               20.5                 \n",
       "2                                               33.2                 \n",
       "3                                               22.1                 \n",
       "4                                               17.3                 \n",
       "\n",
       "  Number_of_jobs_by_workplace_(2014)  \\\n",
       "0                             500400   \n",
       "1                              58900   \n",
       "2                             167300   \n",
       "3                              80700   \n",
       "4                             133600   \n",
       "\n",
       "   %_of_employment_that_is_in_public_sector_(2014)  Jobs_Density,_2015  \\\n",
       "0                                              3.4                84.3   \n",
       "1                                             21.1                 0.5   \n",
       "2                                             18.7                 0.7   \n",
       "3                                             15.9                 0.6   \n",
       "4                                             17.6                 0.6   \n",
       "\n",
       "   Number_of_active_businesses,_2015  \\\n",
       "0                              26130   \n",
       "1                               6560   \n",
       "2                              26190   \n",
       "3                               9075   \n",
       "4                              15745   \n",
       "\n",
       "   Two-year_business_survival_rates_(started_in_2013)  \\\n",
       "0                                               64.3    \n",
       "1                                               73.0    \n",
       "2                                               73.8    \n",
       "3                                               73.5    \n",
       "4                                               74.4    \n",
       "\n",
       "  Crime_rates_per_thousand_population_2014/15  \\\n",
       "0                                           .   \n",
       "1                                        83.4   \n",
       "2                                        62.7   \n",
       "3                                        51.8   \n",
       "4                                        78.8   \n",
       "\n",
       "  Fires_per_thousand_population_(2014)  \\\n",
       "0                                 12.3   \n",
       "1                                    3   \n",
       "2                                  1.6   \n",
       "3                                  2.3   \n",
       "4                                  1.8   \n",
       "\n",
       "  Ambulance_incidents_per_hundred_population_(2014) Median_House_Price,_2015  \\\n",
       "0                                                 .                   799999   \n",
       "1                                              13.7                   243500   \n",
       "2                                              11.1                   445000   \n",
       "3                                              11.8                   275000   \n",
       "4                                              12.1                   407250   \n",
       "\n",
       "  Average_Band_D_Council_Tax_charge_(£),_2015/16  \\\n",
       "0                                          931.2   \n",
       "1                                        1354.03   \n",
       "2                                        1397.07   \n",
       "3                                        1472.43   \n",
       "4                                        1377.24   \n",
       "\n",
       "  New_Homes_(net)_2015/16_(provisional) Homes_Owned_outright,_(2014)_%  \\\n",
       "0                                    80                              .   \n",
       "1                                   730                           16.4   \n",
       "2                                  1460                           32.4   \n",
       "3                                  -130                           38.1   \n",
       "4                                  1050                           22.2   \n",
       "\n",
       "  Being_bought_with_mortgage_or_loan,_(2014)_%  \\\n",
       "0                                            .   \n",
       "1                                         27.4   \n",
       "2                                         25.2   \n",
       "3                                         35.3   \n",
       "4                                         22.6   \n",
       "\n",
       "  Rented_from_Local_Authority_or_Housing_Association,_(2014)_%  \\\n",
       "0                                                  .             \n",
       "1                                               35.9             \n",
       "2                                               11.1             \n",
       "3                                               15.2             \n",
       "4                                               20.4             \n",
       "\n",
       "  Rented_from_Private_landlord,_(2014)_% %_of_area_that_is_Greenspace,_2005  \\\n",
       "0                                      .                                4.8   \n",
       "1                                   20.3                               33.6   \n",
       "2                                   31.1                               41.3   \n",
       "3                                   11.4                               31.7   \n",
       "4                                   34.8                               21.9   \n",
       "\n",
       "  Total_carbon_emissions_(2014) Household_Waste_Recycling_Rate,_2014/15  \\\n",
       "0                          1036                                    34.4   \n",
       "1                           644                                    23.4   \n",
       "2                          1415                                      38   \n",
       "3                           975                                      54   \n",
       "4                          1175                                    35.2   \n",
       "\n",
       "   Number_of_cars,_(2011_Census)  Number_of_cars_per_household,_(2011_Census)  \\\n",
       "0                           1692                                          0.4   \n",
       "1                          56966                                          0.8   \n",
       "2                         144717                                          1.1   \n",
       "3                         108507                                          1.2   \n",
       "4                          87802                                          0.8   \n",
       "\n",
       "  %_of_adults_who_cycle_at_least_once_per_month,_2014/15  \\\n",
       "0                                               16.9       \n",
       "1                                                8.8       \n",
       "2                                                7.4       \n",
       "3                                               10.6       \n",
       "4                                                7.9       \n",
       "\n",
       "  Average_Public_Transport_Accessibility_score,_2014  \\\n",
       "0                                                7.9   \n",
       "1                                                  3   \n",
       "2                                                  3   \n",
       "3                                                2.6   \n",
       "4                                                3.7   \n",
       "\n",
       "  Achievement_of_5_or_more_A*-_C_grades_at_GCSE_or_equivalent_including_English_and_Maths,_2013/14  \\\n",
       "0                                               78.6                                                 \n",
       "1                                                 58                                                 \n",
       "2                                               67.3                                                 \n",
       "3                                               60.3                                                 \n",
       "4                                               60.1                                                 \n",
       "\n",
       "  Rates_of_Children_Looked_After_(2016)  \\\n",
       "0                                   101   \n",
       "1                                    69   \n",
       "2                                    35   \n",
       "3                                    46   \n",
       "4                                    45   \n",
       "\n",
       "  %_of_pupils_whose_first_language_is_not_English_(2015)  \\\n",
       "0                                                  .       \n",
       "1                                               41.7       \n",
       "2                                                 46       \n",
       "3                                               32.6       \n",
       "4                                               37.6       \n",
       "\n",
       "   %_children_living_in_out-of-work_households_(2015)  \\\n",
       "0                                                7.9    \n",
       "1                                               18.7    \n",
       "2                                                9.3    \n",
       "3                                               12.6    \n",
       "4                                               13.7    \n",
       "\n",
       "  Male_life_expectancy,_(2012-14) Female_life_expectancy,_(2012-14)  \\\n",
       "0                               .                                 .   \n",
       "1                            77.6                              82.1   \n",
       "2                            82.1                              85.1   \n",
       "3                            80.4                              84.4   \n",
       "4                            80.1                              85.1   \n",
       "\n",
       "  Teenage_conception_rate_(2014)  Life_satisfaction_score_2011-14_(out_of_10)  \\\n",
       "0                              .                                          6.6   \n",
       "1                           32.4                                          7.1   \n",
       "2                           12.8                                          7.5   \n",
       "3                           19.5                                          7.4   \n",
       "4                           18.5                                          7.3   \n",
       "\n",
       "   Worthwhileness_score_2011-14_(out_of_10)  \\\n",
       "0                                       7.1   \n",
       "1                                       7.6   \n",
       "2                                       7.8   \n",
       "3                                       7.7   \n",
       "4                                       7.4   \n",
       "\n",
       "   Happiness_score_2011-14_(out_of_10)  Anxiety_score_2011-14_(out_of_10)  \\\n",
       "0                                  6.0                                5.6   \n",
       "1                                  7.1                                3.1   \n",
       "2                                  7.4                                2.8   \n",
       "3                                  7.2                                3.3   \n",
       "4                                  7.2                                2.9   \n",
       "\n",
       "  Childhood_Obesity_Prevalance_(%)_2015/16  People_aged_17+_with_diabetes_(%)  \\\n",
       "0                                      NaN                                2.6   \n",
       "1                                     28.5                                7.3   \n",
       "2                                     20.7                                6.0   \n",
       "3                                     22.7                                6.9   \n",
       "4                                     24.3                                7.9   \n",
       "\n",
       "  Mortality_rate_from_causes_considered_preventable_2012/14  \\\n",
       "0                                                129          \n",
       "1                                                228          \n",
       "2                                                134          \n",
       "3                                                164          \n",
       "4                                                169          \n",
       "\n",
       "  Political_control_in_council  \\\n",
       "0                            .   \n",
       "1                          Lab   \n",
       "2                         Cons   \n",
       "3                         Cons   \n",
       "4                          Lab   \n",
       "\n",
       "  Proportion_of_seats_won_by_Conservatives_in_2014_election  \\\n",
       "0                                                  .          \n",
       "1                                                  0          \n",
       "2                                               50.8          \n",
       "3                                               71.4          \n",
       "4                                                9.5          \n",
       "\n",
       "  Proportion_of_seats_won_by_Labour_in_2014_election  \\\n",
       "0                                                  .   \n",
       "1                                                100   \n",
       "2                                                  .   \n",
       "3                                               23.8   \n",
       "4                                               88.9   \n",
       "\n",
       "  Proportion_of_seats_won_by_Lib_Dems_in_2014_election  \\\n",
       "0                                                  .     \n",
       "1                                                  0     \n",
       "2                                                1.6     \n",
       "3                                                  0     \n",
       "4                                                1.6     \n",
       "\n",
       "  Turnout_at_2014_local_elections  \n",
       "0                               .  \n",
       "1                            36.5  \n",
       "2                            40.5  \n",
       "3                            39.6  \n",
       "4                            36.3  "
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "london_df = pd.read_csv('https://files.datapress.com/london/dataset/london-borough-profiles/2015-09-24T15:49:52/london-borough-profiles.csv', \n",
    "                        sep=',', \n",
    "                        error_bad_lines=False,\n",
    "                        encoding= 'unicode_escape')\n",
    "london_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Your credentails:\n",
      "CLIENT_ID: IHNVIXALFROMBOL3HQVFMZTLTCV4QGH0KTUJAY1G11GDIWBD\n",
      "CLIENT_SECRET:DBQPKD5X4ZHDMUIGTPAGLY1A4ARV5YRLCM5DQY4R233V3TFD\n"
     ]
    }
   ],
   "source": [
    "CLIENT_ID = 'IHNVIXALFROMBOL3HQVFMZTLTCV4QGH0KTUJAY1G11GDIWBD' # your Foursquare ID\n",
    "CLIENT_SECRET = 'DBQPKD5X4ZHDMUIGTPAGLY1A4ARV5YRLCM5DQY4R233V3TFD' # your Foursquare Secret\n",
    "VERSION = '20190425' # Foursquare API version\n",
    "LIMIT = 100 # A default Foursquare API limit value\n",
    "#ACCESS_TOKEN = 'OW2HYA0TFUZ3ERCUXOYEANOLILBRWWI1WGUP0TP2SBTUAVQ4'\n",
    "\n",
    "print('Your credentails:')\n",
    "print('CLIENT_ID: ' + CLIENT_ID)\n",
    "print('CLIENT_SECRET:' + CLIENT_SECRET)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 109,
   "metadata": {},
   "outputs": [],
   "source": [
    "cities = ['London, SW3', 'London, SW5', 'London, SW6', 'London, SW7', 'London, SW10', 'London, W2', 'London, W6', 'London, W8', 'London, W9', 'London, W10', 'London, W11', 'London, W12', 'London, W14']\n",
    "results = {}\n",
    "for city in cities:\n",
    "    url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&near={}&limit={}&categoryId={}'.format(\n",
    "        CLIENT_ID, \n",
    "        CLIENT_SECRET, \n",
    "        VERSION, \n",
    "        city,\n",
    "        LIMIT,\n",
    "        \"4bf58dd8d48988d1d8941735\") # GAY BAR CATEGORY ID\n",
    "    results[city] = requests.get(url).json()\n",
    "    \n",
    "# https://developer.foursquare.com/docs/build-with-foursquare/categories/"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 113,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "{'what': '',\n",
       " 'where': 'london w14',\n",
       " 'center': {'lat': 51.4938, 'lng': -0.2288},\n",
       " 'displayString': 'W14, United Kingdom',\n",
       " 'cc': 'GB',\n",
       " 'longId': '149463212633404586'}"
      ]
     },
     "execution_count": 113,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results[city]['response']['geocode']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 112,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "51.4938"
      ]
     },
     "execution_count": 112,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "results[city]['response']['geocode']['center']['lat']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 116,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Total number of LGBT places in London, SW3 =  32\n",
      "Total number of LGBT places in London, SW5 =  4\n",
      "Total number of LGBT places in London, SW6 =  8\n",
      "Total number of LGBT places in London, SW7 =  17\n",
      "Total number of LGBT places in London, SW10 =  32\n",
      "Total number of LGBT places in London, W2 =  4\n",
      "Total number of LGBT places in London, W6 =  4\n",
      "Total number of LGBT places in London, W8 =  4\n",
      "Total number of LGBT places in London, W9 =  20\n",
      "Total number of LGBT places in London, W10 =  4\n",
      "Total number of LGBT places in London, W11 =  6\n",
      "Total number of LGBT places in London, W12 =  4\n",
      "Total number of LGBT places in London, W14 =  2\n"
     ]
    }
   ],
   "source": [
    "maps = {}\n",
    "for city in cities:\n",
    "    city_lat = np.mean([results[city]['response']['geocode']['center']['lat']])\n",
    "    city_lng = np.mean([results[city]['response']['geocode']['center']['lng']])\n",
    "    maps[city] = folium.Map(location=[city_lat, city_lng], zoom_start=11)\n",
    "\n",
    "    # add markers to map\n",
    "    for lat, lng, label in zip(df_venues[city]['Lat'], df_venues[city]['Lng'], df_venues[city]['Name']):\n",
    "        label = folium.Popup(label, parse_html=True)\n",
    "        folium.CircleMarker(\n",
    "            [lat, lng],\n",
    "            radius=5,\n",
    "            popup=label,\n",
    "            color='blue',\n",
    "            fill=True,\n",
    "            fill_color='#3186cc',\n",
    "            fill_opacity=0.7,\n",
    "            parse_html=False).add_to(maps[city])  \n",
    "    print(f\"Total number of LGBT places in {city} = \", results[city]['response']['totalResults'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 117,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzgyZDY2MTgwNjlmMzQ1Yzc5NWNjN2FiNmY2MjdkMGU1IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNTEuNDg3NiwtMC4xNjk0XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDExLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Qm91bmRzOiBib3VuZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnM6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb3B5SnVtcDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgdGlsZV9sYXllcl8xNDhjM2MzOTZhOWM0ZjAwYWQ5NzBiNjhiMjk2NmM4YyA9IEwudGlsZUxheWVyKAogICAgICAgICAgICAgICAgJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJywKICAgICAgICAgICAgICAgIHsKICAiYXR0cmlidXRpb24iOiBudWxsLAogICJkZXRlY3RSZXRpbmEiOiBmYWxzZSwKICAibWF4Wm9vbSI6IDE4LAogICJtaW5ab29tIjogMSwKICAibm9XcmFwIjogZmFsc2UsCiAgInN1YmRvbWFpbnMiOiAiYWJjIgp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSk7CiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWU3Yjk1NTY4NTdiNDgwY2EwMjM5NzI3ZDgwOGYwMjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40ODU4NTMsLTAuMTIxNzI5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzgyZDY2MTgwNjlmMzQ1Yzc5NWNjN2FiNmY2MjdkMGU1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdiNWRhZjE4YTEwNTQzY2FiYTY1MTgxYTQxYjVmYjgwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVhMjUwY2NjYWU4MDQxYzc5MmMzN2Q3YWQyNGJmM2E1ID0gJCgnPGRpdiBpZD0iaHRtbF81YTI1MGNjY2FlODA0MWM3OTJjMzdkN2FkMjRiZjNhNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIFJveWFsIFZhdXhoYWxsIFRhdmVybjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2I1ZGFmMThhMTA1NDNjYWJhNjUxODFhNDFiNWZiODAuc2V0Q29udGVudChodG1sXzVhMjUwY2NjYWU4MDQxYzc5MmMzN2Q3YWQyNGJmM2E1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzllN2I5NTU2ODU3YjQ4MGNhMDIzOTcyN2Q4MDhmMDIxLmJpbmRQb3B1cChwb3B1cF83YjVkYWYxOGExMDU0M2NhYmE2NTE4MWE0MWI1ZmI4MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYmNjNDljNWJhY2Q0Y2E3YWZmNmUzMmIzZTAwMjA0MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjQ4NTg2NjgzNTY1NjAyLC0wLjEyMzUxMzEzNjEyMDQ5MzUzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzgyZDY2MTgwNjlmMzQ1Yzc5NWNjN2FiNmY2MjdkMGU1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYyY2RjMjg1M2Q1YjRiZThhZWVhYjg2MmM5NjIwNzRjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU3OTQ4YzFkNDA5ZDQwOGJhM2RlZDdmMTNmMzZhMTk0ID0gJCgnPGRpdiBpZD0iaHRtbF81Nzk0OGMxZDQwOWQ0MDhiYTNkZWQ3ZjEzZjM2YTE5NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmFja0NPVU5URVI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYyY2RjMjg1M2Q1YjRiZThhZWVhYjg2MmM5NjIwNzRjLnNldENvbnRlbnQoaHRtbF81Nzk0OGMxZDQwOWQ0MDhiYTNkZWQ3ZjEzZjM2YTE5NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yYmNjNDljNWJhY2Q0Y2E3YWZmNmUzMmIzZTAwMjA0MS5iaW5kUG9wdXAocG9wdXBfNjJjZGMyODUzZDViNGJlOGFlZWFiODYyYzk2MjA3NGMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2EyZmUwZWM3OWQ3NDNkY2E2ZWMwZGVjNzcyMzE0YTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTIzMjA0NjQ5NTU3MTQsLTAuMTMzMTE3NDQ3MjM4NzYwMThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2VjMWNkMDhkZDdhNDcwY2I2NDE0MjVlMDNiMjY3ODIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTAzNjM0YmNmYjc2NDExZGJmMmMzNDM0NGIzN2M0NzcgPSAkKCc8ZGl2IGlkPSJodG1sXzUwMzYzNGJjZmI3NjQxMWRiZjJjMzQzNDRiMzdjNDc3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EdWtlIG9mIFdlbGxpbmd0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNlYzFjZDA4ZGQ3YTQ3MGNiNjQxNDI1ZTAzYjI2NzgyLnNldENvbnRlbnQoaHRtbF81MDM2MzRiY2ZiNzY0MTFkYmYyYzM0MzQ0YjM3YzQ3Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jYTJmZTBlYzc5ZDc0M2RjYTZlYzBkZWM3NzIzMTRhOS5iaW5kUG9wdXAocG9wdXBfM2VjMWNkMDhkZDdhNDcwY2I2NDE0MjVlMDNiMjY3ODIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2E3ODAwNDM1N2E4NDEzOTlkOTMxNTA5M2YxZjAxNzggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MDkxNTI5ODk3MjM4NDQsLTAuMTIzNTMyNTQxNzE2MjU4NDldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGMyMjA4YWM3MmJkNGQwZTkxYjZiZGMxMjE4ODAzNTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTA3YWU0NWVjOWIxNGRhMTllOGExNmJjN2U4N2YxNGIgPSAkKCc8ZGl2IGlkPSJodG1sX2UwN2FlNDVlYzliMTRkYTE5ZThhMTZiYzdlODdmMTRiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SZXRybyBCYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhjMjIwOGFjNzJiZDRkMGU5MWI2YmRjMTIxODgwMzU4LnNldENvbnRlbnQoaHRtbF9lMDdhZTQ1ZWM5YjE0ZGExOWU4YTE2YmM3ZTg3ZjE0Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83YTc4MDA0MzU3YTg0MTM5OWQ5MzE1MDkzZjFmMDE3OC5iaW5kUG9wdXAocG9wdXBfOGMyMjA4YWM3MmJkNGQwZTkxYjZiZGMxMjE4ODAzNTgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGEzYzliMzAwZDE3NDExZTgzZWQ5M2Y3MWU3YzgzOTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40ODYyNjgsLTAuMTE5MjczXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzgyZDY2MTgwNjlmMzQ1Yzc5NWNjN2FiNmY2MjdkMGU1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE2NGY0YzM2MDI4YzQ5ZTNhOGE3YzViMzRhODM3YWFlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk5YTVjNDA2MThiYjQ3ZGFhNDNlMjI2N2RkMTg3M2E2ID0gJCgnPGRpdiBpZD0iaHRtbF85OWE1YzQwNjE4YmI0N2RhYTQzZTIyNjdkZDE4NzNhNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEVhZ2xlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xNjRmNGMzNjAyOGM0OWUzYThhN2M1YjM0YTgzN2FhZS5zZXRDb250ZW50KGh0bWxfOTlhNWM0MDYxOGJiNDdkYWE0M2UyMjY3ZGQxODczYTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGEzYzliMzAwZDE3NDExZTgzZWQ5M2Y3MWU3YzgzOTYuYmluZFBvcHVwKHBvcHVwXzE2NGY0YzM2MDI4YzQ5ZTNhOGE3YzViMzRhODM3YWFlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzliYjY1ODljZjY2OTQzOWQ4ZThhMGMyNzgyZjZlODYxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNDg2Mzk4NjkzMDYxMjIsLTAuMTExNDEyMDg1ODI1ODY0Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ODM3YjUxMDFiN2I0MGFhYjMzM2ZlNDY1Y2FjY2JlMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMmJkMzdmZjNjNzk0MmRjOWU4ZTgzOGViZDk4YWJmYiA9ICQoJzxkaXYgaWQ9Imh0bWxfMTJiZDM3ZmYzYzc5NDJkYzllOGU4MzhlYmQ5OGFiZmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBDb2NrIFRhdmVybjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzgzN2I1MTAxYjdiNDBhYWIzMzNmZTQ2NWNhY2NiZTIuc2V0Q29udGVudChodG1sXzEyYmQzN2ZmM2M3OTQyZGM5ZThlODM4ZWJkOThhYmZiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzliYjY1ODljZjY2OTQzOWQ4ZThhMGMyNzgyZjZlODYxLmJpbmRQb3B1cChwb3B1cF83ODM3YjUxMDFiN2I0MGFhYjMzM2ZlNDY1Y2FjY2JlMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iYjhkZDVmMjhhYTY0OTg2YTIzZTU1YmJiNDM1NDU3NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjQ2MzA3MDk4NTgxNzY0LC0wLjEzNDg2MjIyMjcwMTgyNjhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzliMDdhOWJmNjQzNDYyNzhhYmFmYTAxOGRjOWM5ZjkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGJmNDc1ZWU0YzI3NDg5Yjg0YTJiOTg4NDY4MWM4NWIgPSAkKCc8ZGl2IGlkPSJodG1sXzhiZjQ3NWVlNGMyNzQ4OWI4NGEyYjk4ODQ2ODFjODViIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ud28gQnJld2VyczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzliMDdhOWJmNjQzNDYyNzhhYmFmYTAxOGRjOWM5Zjkuc2V0Q29udGVudChodG1sXzhiZjQ3NWVlNGMyNzQ4OWI4NGEyYjk4ODQ2ODFjODViKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2JiOGRkNWYyOGFhNjQ5ODZhMjNlNTViYmI0MzU0NTc0LmJpbmRQb3B1cChwb3B1cF83OWIwN2E5YmY2NDM0NjI3OGFiYWZhMDE4ZGM5YzlmOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zY2NhMDlmNzY1YmM0ZmNmODFiMzdkMDlkZjY4ZDg0MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxMjA3NDk1MzMwMDcsLTAuMTMzODY0NTE4MjM1NzMxMjhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjMxMzIxMzQwZTQ2NDk5MGFkYWQxMzY5NjJjZmUyZGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWFiZDFjYjNhOWI5NDRhNWE1NmFiMTE1OGZmY2Y5YjIgPSAkKCc8ZGl2IGlkPSJodG1sXzFhYmQxY2IzYTliOTQ0YTVhNTZhYjExNThmZmNmOWIyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgWWFyZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjMxMzIxMzQwZTQ2NDk5MGFkYWQxMzY5NjJjZmUyZGUuc2V0Q29udGVudChodG1sXzFhYmQxY2IzYTliOTQ0YTVhNTZhYjExNThmZmNmOWIyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNjY2EwOWY3NjViYzRmY2Y4MWIzN2QwOWRmNjhkODQwLmJpbmRQb3B1cChwb3B1cF9mMzEzMjEzNDBlNDY0OTkwYWRhZDEzNjk2MmNmZTJkZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kZWQ4OTQ1NzA3ODY0YzZkODhkMmQ0YmUzYTA0YWMwNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjQ2NDc0OTc4OTIwNjI1LC0wLjEzMTE1ODE4NDgzOTgyMTIyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzgyZDY2MTgwNjlmMzQ1Yzc5NWNjN2FiNmY2MjdkMGU1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU2NzNjMGJkYWYwNTQ1NDE4MDkxMDAxYzdkY2MzMWU2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzkzZTE1NWFjZjc0MTRmNzlhNzJiZWM3OGQ2Njg2ZThhID0gJCgnPGRpdiBpZD0iaHRtbF85M2UxNTVhY2Y3NDE0Zjc5YTcyYmVjNzhkNjY4NmU4YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEJyaWRnZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTY3M2MwYmRhZjA1NDU0MTgwOTEwMDFjN2RjYzMxZTYuc2V0Q29udGVudChodG1sXzkzZTE1NWFjZjc0MTRmNzlhNzJiZWM3OGQ2Njg2ZThhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2RlZDg5NDU3MDc4NjRjNmQ4OGQyZDRiZTNhMDRhYzA2LmJpbmRQb3B1cChwb3B1cF81NjczYzBiZGFmMDU0NTQxODA5MTAwMWM3ZGNjMzFlNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81OGFiMWIxZDQyNGM0MzExYWQ1NTg4MTVlY2JkNzU5NiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxMTc1ODczMjAxMTg0LC0wLjEyOTU1Mjc4ODkzMTI0MDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjIzYmE5NTNiOWE0NGZjMmJhOTIxM2MwNmE5YzZiMDkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzc5MWQ3ZjQwYWRhNGUzM2E4NzVkNzQ5ZTZlNWE2NmIgPSAkKCc8ZGl2IGlkPSJodG1sX2M3OTFkN2Y0MGFkYTRlMzNhODc1ZDc0OWU2ZTVhNjZiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LdSBCYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYyM2JhOTUzYjlhNDRmYzJiYTkyMTNjMDZhOWM2YjA5LnNldENvbnRlbnQoaHRtbF9jNzkxZDdmNDBhZGE0ZTMzYTg3NWQ3NDllNmU1YTY2Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81OGFiMWIxZDQyNGM0MzExYWQ1NTg4MTVlY2JkNzU5Ni5iaW5kUG9wdXAocG9wdXBfNjIzYmE5NTNiOWE0NGZjMmJhOTIxM2MwNmE5YzZiMDkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2YxYmMyODY4YWI3NDJjMzhkYzlmZGNiNjNmZTQ1YjQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTUxMzUxLC0wLjEzNzI4MjFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWMxODdiYTA2ZmYxNGFiYmJjODljNDNhNzg2N2JiYTkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmRhOTMyODI4NGE5NGNlZTg2NTkyZDBmN2UwODc5YjYgPSAkKCc8ZGl2IGlkPSJodG1sX2JkYTkzMjgyODRhOTRjZWU4NjU5MmQwZjdlMDg3OWI2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgS2luZ3MgQXJtczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYWMxODdiYTA2ZmYxNGFiYmJjODljNDNhNzg2N2JiYTkuc2V0Q29udGVudChodG1sX2JkYTkzMjgyODRhOTRjZWU4NjU5MmQwZjdlMDg3OWI2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NmMWJjMjg2OGFiNzQyYzM4ZGM5ZmRjYjYzZmU0NWI0LmJpbmRQb3B1cChwb3B1cF9hYzE4N2JhMDZmZjE0YWJiYmM4OWM0M2E3ODY3YmJhOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81ZGFkZjMzODEzMmM0MmVhODE2NzRlOGU0ZjZkMzc1YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxMjU4MjQyNjMwNDI1NiwtMC4xMzI1MzA0MDc5ODY2NzgyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xM2ZmYTA3YTY0NTU0MWQ3YjIzMjgxYWM5MWM0MDQ0MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MTJkMmVlOTUzZTQ0YjUyOGVkNjUwNDIwMzM5NTMzNCA9ICQoJzxkaXYgaWQ9Imh0bWxfNzEyZDJlZTk1M2U0NGI1MjhlZDY1MDQyMDMzOTUzMzQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNvbXB0b25zPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xM2ZmYTA3YTY0NTU0MWQ3YjIzMjgxYWM5MWM0MDQ0My5zZXRDb250ZW50KGh0bWxfNzEyZDJlZTk1M2U0NGI1MjhlZDY1MDQyMDMzOTUzMzQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNWRhZGYzMzgxMzJjNDJlYTgxNjc0ZThlNGY2ZDM3NWIuYmluZFBvcHVwKHBvcHVwXzEzZmZhMDdhNjQ1NTQxZDdiMjMyODFhYzkxYzQwNDQzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzkwODA1NTAzYTcxZTQwNjI4N2FjOGQ0NjFjYWI3ZmQwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTEyMzg3LC0wLjEzMzIyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzgyZDY2MTgwNjlmMzQ1Yzc5NWNjN2FiNmY2MjdkMGU1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY3YmI0OWJlNzI1ZjRiMmE5ODMwY2ZiODFlYTE1Yjk3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzcwZTAyZGJkODdiNDRmYmI4OWNkZjAyYmI3N2IwMDQzID0gJCgnPGRpdiBpZD0iaHRtbF83MGUwMmRiZDg3YjQ0ZmJiODljZGYwMmJiNzdiMDA0MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEZyaWVuZGx5IFNvY2lldHk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY3YmI0OWJlNzI1ZjRiMmE5ODMwY2ZiODFlYTE1Yjk3LnNldENvbnRlbnQoaHRtbF83MGUwMmRiZDg3YjQ0ZmJiODljZGYwMmJiNzdiMDA0Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85MDgwNTUwM2E3MWU0MDYyODdhYzhkNDYxY2FiN2ZkMC5iaW5kUG9wdXAocG9wdXBfNjdiYjQ5YmU3MjVmNGIyYTk4MzBjZmI4MWVhMTViOTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWQ4YzgwZWYxOTBkNDc0M2FhNmFkNjJmMmViY2VjZDYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MDc5Nzg4MDE0MjY5MywtMC4xMjQxMzY2MzI5NDU1MzQxM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yMGYzYzJlNzE2Mzk0Nzc1OTEzNDRjOWUwOTI4MWJhMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iMjc0OTg1ZTI1NTM0OGVjYTYxZjRlMGE1MTk2ZDkwNSA9ICQoJzxkaXYgaWQ9Imh0bWxfYjI3NDk4NWUyNTUzNDhlY2E2MWY0ZTBhNTE5NmQ5MDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhlYXZlbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjBmM2MyZTcxNjM5NDc3NTkxMzQ0YzllMDkyODFiYTAuc2V0Q29udGVudChodG1sX2IyNzQ5ODVlMjU1MzQ4ZWNhNjFmNGUwYTUxOTZkOTA1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VkOGM4MGVmMTkwZDQ3NDNhYTZhZDYyZjJlYmNlY2Q2LmJpbmRQb3B1cChwb3B1cF8yMGYzYzJlNzE2Mzk0Nzc1OTEzNDRjOWUwOTI4MWJhMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83ZmY5ZDk2YjExYTU0MGEwYjUzNmZkNmY1NDk0ZDU1MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxMjE3NjYzMDI1MDg4NSwtMC4xMzM0NTYyMjQ1MzY4NzE1Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NzY2NTY4OGVkY2E0ZDgzOThjZTY1M2NiZjRiZjkwNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNDgyMGEwNDZiNjg0ZWZlOTRiYjM2OTQ3Mzc0NDQ0NiA9ICQoJzxkaXYgaWQ9Imh0bWxfMjQ4MjBhMDQ2YjY4NGVmZTk0YmIzNjk0NzM3NDQ0NDYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJ1cGVydCBTdHJlZXQgQmFyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NzY2NTY4OGVkY2E0ZDgzOThjZTY1M2NiZjRiZjkwNy5zZXRDb250ZW50KGh0bWxfMjQ4MjBhMDQ2YjY4NGVmZTk0YmIzNjk0NzM3NDQ0NDYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2ZmOWQ5NmIxMWE1NDBhMGI1MzZmZDZmNTQ5NGQ1NTEuYmluZFBvcHVwKHBvcHVwXzQ3NjY1Njg4ZWRjYTRkODM5OGNlNjUzY2JmNGJmOTA3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc3ZmUyNzQ1YWM3MDQwYzhhYjFkMjAwNjM1ZGZjZDk0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTEzODQ5NjI4MTY0NSwtMC4xMjk1MzcyOTcyMTQ2MjMxNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hNzFhNjIzOTUzMWU0YzhhYTRiNGFiYTEyNmFmM2IzZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kYzExOWE5YmIyMjU0ODIyYTEyOWM4ODljMjExMTMyYiA9ICQoJzxkaXYgaWQ9Imh0bWxfZGMxMTlhOWJiMjI1NDgyMmExMjljODg5YzIxMTEzMmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBDb21wdG9uIENyb3NzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hNzFhNjIzOTUzMWU0YzhhYTRiNGFiYTEyNmFmM2IzZi5zZXRDb250ZW50KGh0bWxfZGMxMTlhOWJiMjI1NDgyMmExMjljODg5YzIxMTEzMmIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzdmZTI3NDVhYzcwNDBjOGFiMWQyMDA2MzVkZmNkOTQuYmluZFBvcHVwKHBvcHVwX2E3MWE2MjM5NTMxZTRjOGFhNGI0YWJhMTI2YWYzYjNmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNjN2E0Nzg3YzE0NzQ2YWZiYmI4MDZlNDU5YThiOTI0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTEyOTA1ODQyMzQ1NjQ2LC0wLjEzMjI5MDQzNzQxNzA1NDgyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzgyZDY2MTgwNjlmMzQ1Yzc5NWNjN2FiNmY2MjdkMGU1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzM3Mzc4M2FmYjZjNDQ0NDJiMjdiMTA3MDg2ZTE3MGRiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFjNjgyYTZhMzVjNDQyYWQ4MThhMTFlNmI3YWYxODYxID0gJCgnPGRpdiBpZD0iaHRtbF8xYzY4MmE2YTM1YzQ0MmFkODE4YTExZTZiN2FmMTg2MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWRtaXJhbCBEdW5jYW48L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzM3Mzc4M2FmYjZjNDQ0NDJiMjdiMTA3MDg2ZTE3MGRiLnNldENvbnRlbnQoaHRtbF8xYzY4MmE2YTM1YzQ0MmFkODE4YTExZTZiN2FmMTg2MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zYzdhNDc4N2MxNDc0NmFmYmJiODA2ZTQ1OWE4YjkyNC5iaW5kUG9wdXAocG9wdXBfMzczNzgzYWZiNmM0NDQ0MmIyN2IxMDcwODZlMTcwZGIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODM1ZDYwZGExZTA5NDQ0NGI2Mjk2NTg5NDc3OTA1ZTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40OTc2MDk4ODIyMjEzMDUsLTAuMTQyNTkwODMyODk5NTE0M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hYjI2ZTkwYmRjNjQ0ZWQ0YjQ3ZGFjM2E3ZTY4MDY0NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81OTUxOTE5YTBlMjc0ZjNhYTYxOTEwOTRiZTRjMTJhNyA9ICQoJzxkaXYgaWQ9Imh0bWxfNTk1MTkxOWEwZTI3NGYzYWE2MTkxMDk0YmU0YzEyYTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0YWc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FiMjZlOTBiZGM2NDRlZDRiNDdkYWMzYTdlNjgwNjQ2LnNldENvbnRlbnQoaHRtbF81OTUxOTE5YTBlMjc0ZjNhYTYxOTEwOTRiZTRjMTJhNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84MzVkNjBkYTFlMDk0NDQ0YjYyOTY1ODk0Nzc5MDVlMi5iaW5kUG9wdXAocG9wdXBfYWIyNmU5MGJkYzY0NGVkNGI0N2RhYzNhN2U2ODA2NDYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWJmNDZkNzBhZWZkNDMxYTljNTVkMmM1Y2UzMDllMmQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40ODQ2NDU0OTkyNjE5NiwtMC4xMjgxMTAxMzEzMTAwNzcwNF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMmRjYjVmYWE4YTA0ZDliYmY4MGI3NDU0MGVlOWY5MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82M2VhMzdmMTQ4NGU0NWRmOTUyY2RhMWYyOGIxN2Q1ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNjNlYTM3ZjE0ODRlNDVkZjk1MmNkYTFmMjhiMTdkNWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsdWIgQ29sb3NzZXVtPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hMmRjYjVmYWE4YTA0ZDliYmY4MGI3NDU0MGVlOWY5Mi5zZXRDb250ZW50KGh0bWxfNjNlYTM3ZjE0ODRlNDVkZjk1MmNkYTFmMjhiMTdkNWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWJmNDZkNzBhZWZkNDMxYTljNTVkMmM1Y2UzMDllMmQuYmluZFBvcHVwKHBvcHVwX2EyZGNiNWZhYThhMDRkOWJiZjgwYjc0NTQwZWU5ZjkyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzZkNjMxZGIxOTFjODRiNTNhNjMwZmZlNWJiMWNjMDU1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNDg2OTYyNTk3MTc1ODU0LC0wLjEyMzM1OTY3MDMzNDM4NzAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzgyZDY2MTgwNjlmMzQ1Yzc5NWNjN2FiNmY2MjdkMGU1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYwZmEzYzFiMDE3MzRiNmVhNjBhMzBjNjQ0MjFmMmIxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzIwMmIzNTI0NmUxMDQ2M2I4MGVjMDFiYzZjZmFkNTg4ID0gJCgnPGRpdiBpZD0iaHRtbF8yMDJiMzUyNDZlMTA0NjNiODBlYzAxYmM2Y2ZhZDU4OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VW5pb248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYwZmEzYzFiMDE3MzRiNmVhNjBhMzBjNjQ0MjFmMmIxLnNldENvbnRlbnQoaHRtbF8yMDJiMzUyNDZlMTA0NjNiODBlYzAxYmM2Y2ZhZDU4OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82ZDYzMWRiMTkxYzg0YjUzYTYzMGZmZTViYjFjYzA1NS5iaW5kUG9wdXAocG9wdXBfNjBmYTNjMWIwMTczNGI2ZWE2MGEzMGM2NDQyMWYyYjEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmZjOTZkYzQ0ZmZmNGRiYWIyOGYzZGEwMWZjZjk4OWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTI1NTMwMTA4NTg4NiwtMC4xMzM0OTA5MzY0Nzk5NjI3NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZTM4ODExNjc0YWE0ZTVhYTdkMWI3OTI2ZWYzMWVhMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81YzQwMjY0YzAxOTk0NDZkYWVlMmQ2NmYzMTIxMWE1ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNWM0MDI2NGMwMTk5NDQ2ZGFlZTJkNjZmMzEyMTFhNWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlZpbGxhZ2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NlMzg4MTE2NzRhYTRlNWFhN2QxYjc5MjZlZjMxZWEzLnNldENvbnRlbnQoaHRtbF81YzQwMjY0YzAxOTk0NDZkYWVlMmQ2NmYzMTIxMWE1ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iZmM5NmRjNDRmZmY0ZGJhYjI4ZjNkYTAxZmNmOTg5ZS5iaW5kUG9wdXAocG9wdXBfY2UzODgxMTY3NGFhNGU1YWE3ZDFiNzkyNmVmMzFlYTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzY1YjJlNzY4Yjc4NDRmMjliNGYwMWE3ZjgxNzVmZDEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTMxNzg3MTIwNzk5NTYsLTAuMTMxMTIwMzMzNzA3NzIwNDRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDg0NTk1OGU3Y2Q0NDBmNjkzMDBiNWJlNTBhMzViZmMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjg0ZGY5MjU0ZWIxNDJlMmE2MzNhYjU3NmRjYTI4NjQgPSAkKCc8ZGl2IGlkPSJodG1sXzY4NGRmOTI1NGViMTQyZTJhNjMzYWI1NzZkY2EyODY0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TaGUgU29obzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDg0NTk1OGU3Y2Q0NDBmNjkzMDBiNWJlNTBhMzViZmMuc2V0Q29udGVudChodG1sXzY4NGRmOTI1NGViMTQyZTJhNjMzYWI1NzZkY2EyODY0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM2NWIyZTc2OGI3ODQ0ZjI5YjRmMDFhN2Y4MTc1ZmQxLmJpbmRQb3B1cChwb3B1cF80ODQ1OTU4ZTdjZDQ0MGY2OTMwMGI1YmU1MGEzNWJmYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kZWVjZGVjMDAwNDg0ODY5YmE5N2ZkOWUyMjNhYWIzZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjQ4OTkwMDU1MjQ2NTg5LC0wLjEwODE4ODU4MDI2NTg0MTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzgyZDY2MTgwNjlmMzQ1Yzc5NWNjN2FiNmY2MjdkMGU1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M5MDY1OGEyODY4YjRlYzBiM2Q0OTFkYTU5MTMyN2M2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I0OTZhYWVlMTQ4MzQzN2RhYWJiMzJkYmE4YWYyNzU2ID0gJCgnPGRpdiBpZD0iaHRtbF9iNDk2YWFlZTE0ODM0MzdkYWFiYjMyZGJhOGFmMjc1NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEtpbmcmIzM5O3MgQXJtczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzkwNjU4YTI4NjhiNGVjMGIzZDQ5MWRhNTkxMzI3YzYuc2V0Q29udGVudChodG1sX2I0OTZhYWVlMTQ4MzQzN2RhYWJiMzJkYmE4YWYyNzU2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2RlZWNkZWMwMDA0ODQ4NjliYTk3ZmQ5ZTIyM2FhYjNlLmJpbmRQb3B1cChwb3B1cF9jOTA2NThhMjg2OGI0ZWMwYjNkNDkxZGE1OTEzMjdjNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85NTVmOGYwMWI0MGQ0MjRlODI1Mjc4ZDJiNjFlZDlkZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUwODQyNTk4NTAxNjUsLTAuMTI2NTE1OTQ5Njg1NDI2NjhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWFiZjVlMGU4MWVhNDBhN2E1ZTZhMTY4ZTA3NGFjYzcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmM3N2VjMTY1OWM1NDQ1NmI0NzMyYzViMzcyOWUwMmUgPSAkKCc8ZGl2IGlkPSJodG1sXzZjNzdlYzE2NTljNTQ0NTZiNDczMmM1YjM3MjllMDJlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IYWxmd2F5IDIgSGVhdmVuPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81YWJmNWUwZTgxZWE0MGE3YTVlNmExNjhlMDc0YWNjNy5zZXRDb250ZW50KGh0bWxfNmM3N2VjMTY1OWM1NDQ1NmI0NzMyYzViMzcyOWUwMmUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTU1ZjhmMDFiNDBkNDI0ZTgyNTI3OGQyYjYxZWQ5ZGYuYmluZFBvcHVwKHBvcHVwXzVhYmY1ZTBlODFlYTQwYTdhNWU2YTE2OGUwNzRhY2M3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUwZjc0Y2M5YzI3MzQwZjRiM2E2YWNiNzc0NGQ0NmE5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTEyNjg0NTY4NDE0MzE1LC0wLjEzMzQzMDM2MTE5NTgzMTMyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzgyZDY2MTgwNjlmMzQ1Yzc5NWNjN2FiNmY2MjdkMGU1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I0ZTUyYmRmNjNmYTRjZjU4ZjBhYWNmZGI2MmRiNGI1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzUyNzhmOTM2MGQ4OTQ3NGQ4M2IxYTc3Njg1OTJlNzY4ID0gJCgnPGRpdiBpZD0iaHRtbF81Mjc4ZjkzNjBkODk0NzRkODNiMWE3NzY4NTkyZTc2OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RnJlZWRvbSBCYXIgJmFtcDsgQ2x1YjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjRlNTJiZGY2M2ZhNGNmNThmMGFhY2ZkYjYyZGI0YjUuc2V0Q29udGVudChodG1sXzUyNzhmOTM2MGQ4OTQ3NGQ4M2IxYTc3Njg1OTJlNzY4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzUwZjc0Y2M5YzI3MzQwZjRiM2E2YWNiNzc0NGQ0NmE5LmJpbmRQb3B1cChwb3B1cF9iNGU1MmJkZjYzZmE0Y2Y1OGYwYWFjZmRiNjJkYjRiNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83YjVlNGExMzllZWU0ZGYzYjEzYThhMGExZGNjZDA4OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxNDM4MjgwNTMxNTY5LC0wLjEzMjA3NjAwOTQ5MDAzNTM3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzgyZDY2MTgwNjlmMzQ1Yzc5NWNjN2FiNmY2MjdkMGU1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU5ZDA3NjEwNmE5YzQ3YjNhZGQyZWFjM2ZjZDNiYTkyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2QyZjYwYThiZTE3ZDRjNzRhNDQ3YTU0ZmY4NTEwYTAzID0gJCgnPGRpdiBpZD0iaHRtbF9kMmY2MGE4YmUxN2Q0Yzc0YTQ0N2E1NGZmODUxMGEwMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2lyY2E8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU5ZDA3NjEwNmE5YzQ3YjNhZGQyZWFjM2ZjZDNiYTkyLnNldENvbnRlbnQoaHRtbF9kMmY2MGE4YmUxN2Q0Yzc0YTQ0N2E1NGZmODUxMGEwMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83YjVlNGExMzllZWU0ZGYzYjEzYThhMGExZGNjZDA4OS5iaW5kUG9wdXAocG9wdXBfNTlkMDc2MTA2YTljNDdiM2FkZDJlYWMzZmNkM2JhOTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTgyZDljNWI4NWRiNGMyNThkNmNjMjE0MTQ5Nzc2N2IgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTM0NDU1NzExMzM0NDUsLTAuMTMxMTQ5MTg2NDgxNzEzOTJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDQ0MzBjMTgyZDg5NDVhMWExYWQ0NTI2NWFhNjE4ZDUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDg3OTkzMDdjZDA2NDFjYzkzMjY4MjkyNGU3YzYxMWYgPSAkKCc8ZGl2IGlkPSJodG1sXzA4Nzk5MzA3Y2QwNjQxY2M5MzI2ODI5MjRlN2M2MTFmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HLUEtWSBCYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q0NDMwYzE4MmQ4OTQ1YTFhMWFkNDUyNjVhYTYxOGQ1LnNldENvbnRlbnQoaHRtbF8wODc5OTMwN2NkMDY0MWNjOTMyNjgyOTI0ZTdjNjExZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81ODJkOWM1Yjg1ZGI0YzI1OGQ2Y2MyMTQxNDk3NzY3Yi5iaW5kUG9wdXAocG9wdXBfZDQ0MzBjMTgyZDg5NDVhMWExYWQ0NTI2NWFhNjE4ZDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDdmZDgyZDc4NDZhNDNjMmI2ODI2YTU5NWY2YzgzMjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTMwODgwNzU5NzgzMjQsLTAuMTMxMTM1MTY4ODgxODY0MDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWJhMTg0OTY1NTc0NDAyMGI4OWI1ZDhkYTFmYjVjOTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTMzMWEwZDNhMTNiNDNhMTljNWQxZjQ1MGZlNDQzN2IgPSAkKCc8ZGl2IGlkPSJodG1sX2EzMzFhMGQzYTEzYjQzYTE5YzVkMWY0NTBmZTQ0MzdiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LdSBCYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzFiYTE4NDk2NTU3NDQwMjBiODliNWQ4ZGExZmI1YzkzLnNldENvbnRlbnQoaHRtbF9hMzMxYTBkM2ExM2I0M2ExOWM1ZDFmNDUwZmU0NDM3Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wN2ZkODJkNzg0NmE0M2MyYjY4MjZhNTk1ZjZjODMyMy5iaW5kUG9wdXAocG9wdXBfMWJhMTg0OTY1NTc0NDAyMGI4OWI1ZDhkYTFmYjVjOTMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTcxMzg2MTBlYTdhNGRlYjgzN2Y5Yjk0ZTA2ZWZiMjcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTM3OTUzMjgyMDg0NzQsLTAuMTU3NzI2OTYyMTU4MjQyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82NzM0NjIyNTE2YjI0ODA3YmI3ZmVmM2RhMDkyY2YwYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mZTFhNDk4MDBmNzc0MjE0OWI1NDhiODdlMzI2ODhiNyA9ICQoJzxkaXYgaWQ9Imh0bWxfZmUxYTQ5ODAwZjc3NDIxNDliNTQ4Yjg3ZTMyNjg4YjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNpdHkgT2YgUXVlYmVjPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82NzM0NjIyNTE2YjI0ODA3YmI3ZmVmM2RhMDkyY2YwYy5zZXRDb250ZW50KGh0bWxfZmUxYTQ5ODAwZjc3NDIxNDliNTQ4Yjg3ZTMyNjg4YjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTcxMzg2MTBlYTdhNGRlYjgzN2Y5Yjk0ZTA2ZWZiMjcuYmluZFBvcHVwKHBvcHVwXzY3MzQ2MjI1MTZiMjQ4MDdiYjdmZWYzZGEwOTJjZjBjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzAyZjgzN2U0YTY1ZTQ4OTFiMjRjOWYzYWMwMDVmMjBmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTEzMTk5Njk5OTk5OTksLTAuMTMxMjIyNjAwMDAwMDAwOTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTEzNTQ5MjJiNjY2NDc0Y2I4YWE4YTQ3YTUyYTVjMjcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2Q3OTcxYTY2MmNiNGU0OGJmNDRkNDM3N2Y0NDdlOTIgPSAkKCc8ZGl2IGlkPSJodG1sXzdkNzk3MWE2NjJjYjRlNDhiZjQ0ZDQzNzdmNDQ3ZTkyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HYXkgQnVkZHk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UxMzU0OTIyYjY2NjQ3NGNiOGFhOGE0N2E1MmE1YzI3LnNldENvbnRlbnQoaHRtbF83ZDc5NzFhNjYyY2I0ZTQ4YmY0NGQ0Mzc3ZjQ0N2U5Mik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wMmY4MzdlNGE2NWU0ODkxYjI0YzlmM2FjMDA1ZjIwZi5iaW5kUG9wdXAocG9wdXBfZTEzNTQ5MjJiNjY2NDc0Y2I4YWE4YTQ3YTUyYTVjMjcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTM0YThjOTkwY2U0NGM2NmEwNWUzMjVhZWVhYTNjYjUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MDczNzM1MzUxMTEzNSwtMC4xMjIwMTIzNDY5ODI5NTU5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF84MmQ2NjE4MDY5ZjM0NWM3OTVjYzdhYjZmNjI3ZDBlNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ODUyNzFjN2NkMjE0NDE4OTQzMWJmNGI0ZDE1MjkzNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNjZmNTI4NDFhZmM0MDE3OGNhY2FjMWMyNmM1OGNlMyA9ICQoJzxkaXYgaWQ9Imh0bWxfMjY2ZjUyODQxYWZjNDAxNzhjYWNhYzFjMjZjNThjZTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNpcmNhIENsdWI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ4NTI3MWM3Y2QyMTQ0MTg5NDMxYmY0YjRkMTUyOTM3LnNldENvbnRlbnQoaHRtbF8yNjZmNTI4NDFhZmM0MDE3OGNhY2FjMWMyNmM1OGNlMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85MzRhOGM5OTBjZTQ0YzY2YTA1ZTMyNWFlZWFhM2NiNS5iaW5kUG9wdXAocG9wdXBfNDg1MjcxYzdjZDIxNDQxODk0MzFiZjRiNGQxNTI5MzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGE2NTg1MzE2MWE3NDg2M2IxZjU3YjM1OTAwMzllZDUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTQwNjg2MDM1MTU2MjUsLTAuMTIzNjk3MTAyMDY5ODU0NzRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfODJkNjYxODA2OWYzNDVjNzk1Y2M3YWI2ZjYyN2QwZTUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWI0YzFhOGQzNjcwNDlhMjg4OGJkZTg3ZmYzMjVkOTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTlmZjdmZjFiYTI5NDdhNzhiYTNiYjQ0NDdiZDU4ZDcgPSAkKCc8ZGl2IGlkPSJodG1sXzU5ZmY3ZmYxYmEyOTQ3YTc4YmEzYmI0NDQ3YmQ1OGQ3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgU3RhYmxlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hYjRjMWE4ZDM2NzA0OWEyODg4YmRlODdmZjMyNWQ5My5zZXRDb250ZW50KGh0bWxfNTlmZjdmZjFiYTI5NDdhNzhiYTNiYjQ0NDdiZDU4ZDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGE2NTg1MzE2MWE3NDg2M2IxZjU3YjM1OTAwMzllZDUuYmluZFBvcHVwKHBvcHVwX2FiNGMxYThkMzY3MDQ5YTI4ODhiZGU4N2ZmMzI1ZDkzKTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4= onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x7f62b3ac7dd8>"
      ]
     },
     "execution_count": 117,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "maps[cities[0]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 136,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "London, SW3\n",
      "Mean Distance from Mean coordinates\n",
      "0.014845450943694459\n",
      "------------------------------------\n",
      "London, SW5\n",
      "Mean Distance from Mean coordinates\n",
      "0.011447021104808199\n",
      "------------------------------------\n",
      "London, SW6\n",
      "Mean Distance from Mean coordinates\n",
      "0.02670393897335906\n",
      "------------------------------------\n",
      "London, SW7\n",
      "Mean Distance from Mean coordinates\n",
      "0.004437251264176457\n",
      "------------------------------------\n",
      "London, SW10\n",
      "Mean Distance from Mean coordinates\n",
      "0.014845450943694459\n",
      "------------------------------------\n",
      "London, W2\n",
      "Mean Distance from Mean coordinates\n",
      "0.032228575379642625\n",
      "------------------------------------\n",
      "London, W6\n",
      "Mean Distance from Mean coordinates\n",
      "0.03162914450593372\n",
      "------------------------------------\n",
      "London, W8\n",
      "Mean Distance from Mean coordinates\n",
      "0.032228575379642625\n",
      "------------------------------------\n",
      "London, W9\n",
      "Mean Distance from Mean coordinates\n",
      "0.011623406634731503\n",
      "------------------------------------\n",
      "London, W10\n",
      "Mean Distance from Mean coordinates\n",
      "0.032228575379642625\n",
      "------------------------------------\n",
      "London, W11\n",
      "Mean Distance from Mean coordinates\n",
      "0.026950813479625205\n",
      "------------------------------------\n",
      "London, W12\n",
      "Mean Distance from Mean coordinates\n",
      "0.05703699077138325\n",
      "------------------------------------\n",
      "London, W14\n",
      "Mean Distance from Mean coordinates\n",
      "0.0117942800814355\n",
      "------------------------------------\n"
     ]
    }
   ],
   "source": [
    "maps = {}\n",
    "for city in cities:\n",
    "    city_lat = np.mean([results[city]['response']['geocode']['center']['lat']])\n",
    "    city_lng = np.mean([results[city]['response']['geocode']['center']['lng']])\n",
    "    maps[city] = folium.Map(location=[city_lat, city_lng], zoom_start=11)\n",
    "    venues_mean_coor = [df_venues[city]['Lat'].mean(), df_venues[city]['Lng'].mean()] \n",
    "    # add markers to map\n",
    "    for lat, lng, label in zip(df_venues[city]['Lat'], df_venues[city]['Lng'], df_venues[city]['Name']):\n",
    "        label = folium.Popup(label, parse_html=True)\n",
    "        folium.CircleMarker(\n",
    "            [lat, lng],\n",
    "            radius=5,\n",
    "            popup=label,\n",
    "            color='blue',\n",
    "            fill=True,\n",
    "            fill_color='#3186cc',\n",
    "            fill_opacity=0.7,\n",
    "            parse_html=False).add_to(maps[city])\n",
    "        folium.PolyLine([venues_mean_coor, [lat, lng]], color=\"red\", weight=1.5, opacity=0.5).add_to(maps[city])\n",
    "    \n",
    "    label = folium.Popup(\"Mean Co-ordinate\", parse_html=True)\n",
    "    folium.CircleMarker(\n",
    "        venues_mean_coor,\n",
    "        radius=10,\n",
    "        popup=label,\n",
    "        color='red',\n",
    "        fill=True,\n",
    "        fill_color='#f67b6a',\n",
    "        fill_opacity=0.7,\n",
    "        parse_html=False).add_to(maps[city])\n",
    "    \n",
    "    ave_dist = np.mean(np.apply_along_axis(lambda x: np.linalg.norm(x - venues_mean_coor),1,df_venues[city][['Lat','Lng']].values))\n",
    "\n",
    "    print(city)\n",
    "    print(\"Mean Distance from Mean coordinates\")\n",
    "    print(np.mean(np.apply_along_axis(lambda x: np.linalg.norm(x - venues_mean_coor),1,df_venues[city][['Lat','Lng']].values)))\n",
    "    print('------------------------------------')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 126,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNTEuNDg3NiwtMC4xNjk0XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDExLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Qm91bmRzOiBib3VuZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnM6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb3B5SnVtcDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgdGlsZV9sYXllcl9iM2U4MGJmMmUyNzU0NmRmYjI0MDMyYTU0ZjJhYzUyYyA9IEwudGlsZUxheWVyKAogICAgICAgICAgICAgICAgJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJywKICAgICAgICAgICAgICAgIHsKICAiYXR0cmlidXRpb24iOiBudWxsLAogICJkZXRlY3RSZXRpbmEiOiBmYWxzZSwKICAibWF4Wm9vbSI6IDE4LAogICJtaW5ab29tIjogMSwKICAibm9XcmFwIjogZmFsc2UsCiAgInN1YmRvbWFpbnMiOiAiYWJjIgp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGMzZjZjODljYjMzNDk3MWE0N2Q4YjIxZmM1OWM4OWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40ODU4NTMsLTAuMTIxNzI5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAxODdjYzM5NWFmMzRkMDNhMGM0M2M0MDY5MDc3Nzc3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU2ODk0ZjJhN2EzMTRmMTFiMjY4YjlkNDc3YzcwM2MyID0gJCgnPGRpdiBpZD0iaHRtbF81Njg5NGYyYTdhMzE0ZjExYjI2OGI5ZDQ3N2M3MDNjMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIFJveWFsIFZhdXhoYWxsIFRhdmVybjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDE4N2NjMzk1YWYzNGQwM2EwYzQzYzQwNjkwNzc3Nzcuc2V0Q29udGVudChodG1sXzU2ODk0ZjJhN2EzMTRmMTFiMjY4YjlkNDc3YzcwM2MyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2RjM2Y2Yzg5Y2IzMzQ5NzFhNDdkOGIyMWZjNTljODliLmJpbmRQb3B1cChwb3B1cF8wMTg3Y2MzOTVhZjM0ZDAzYTBjNDNjNDA2OTA3Nzc3Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICAgICAgdmFyIHBvbHlfbGluZV9kNDI3MWZhY2JmODI0NjliOWJkNzVlMGYwZGNlZjU4MSA9IEwucG9seWxpbmUoCiAgICAgICAgICAgICAgICAgICAgW1s1MS41MDMxMjAxMzQzNDMyMSwgLTAuMTI5Mzg0MTkzNjc2NjkzMzVdLCBbNTEuNDg1ODUzLCAtMC4xMjE3MjldXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDY5YTRhNGI1NDhmNDNjYjgyYzFlM2U1NzViNDE3ZTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40ODU4NjY4MzU2NTYwMiwtMC4xMjM1MTMxMzYxMjA0OTM1M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iZjAxYjgwZWViYTU0OTE1OTRhYWZmMWJkN2MwNjdjZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZTQyZDRlN2RlZDA0ZDdjYjc4N2VlNmM1ZGNjN2M3NSA9ICQoJzxkaXYgaWQ9Imh0bWxfZGU0MmQ0ZTdkZWQwNGQ3Y2I3ODdlZTZjNWRjYzdjNzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJhY2tDT1VOVEVSPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iZjAxYjgwZWViYTU0OTE1OTRhYWZmMWJkN2MwNjdjZi5zZXRDb250ZW50KGh0bWxfZGU0MmQ0ZTdkZWQwNGQ3Y2I3ODdlZTZjNWRjYzdjNzUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDY5YTRhNGI1NDhmNDNjYjgyYzFlM2U1NzViNDE3ZTYuYmluZFBvcHVwKHBvcHVwX2JmMDFiODBlZWJhNTQ5MTU5NGFhZmYxYmQ3YzA2N2NmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lXzRlNWIzNTc0OTRjZDQzN2VhNGNlMjg4OGVlOGUzY2I5ID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS40ODU4NjY4MzU2NTYwMiwgLTAuMTIzNTEzMTM2MTIwNDkzNTNdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODEzYTQ2ZTI3NTVkNGNkZmI1ZTAxYjE2ZmU2YTkzZWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTIzMjA0NjQ5NTU3MTQsLTAuMTMzMTE3NDQ3MjM4NzYwMThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjc0MmQ0NjU2NTllNDJkMjg4Yjk1Yjk4M2EyM2E1M2UgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2E2ZjZkOGU0ODcxNGNjN2JiMDJlMTYxYzM1OTJhM2YgPSAkKCc8ZGl2IGlkPSJodG1sXzdhNmY2ZDhlNDg3MTRjYzdiYjAyZTE2MWMzNTkyYTNmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EdWtlIG9mIFdlbGxpbmd0b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI3NDJkNDY1NjU5ZTQyZDI4OGI5NWI5ODNhMjNhNTNlLnNldENvbnRlbnQoaHRtbF83YTZmNmQ4ZTQ4NzE0Y2M3YmIwMmUxNjFjMzU5MmEzZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84MTNhNDZlMjc1NWQ0Y2RmYjVlMDFiMTZmZTZhOTNlYi5iaW5kUG9wdXAocG9wdXBfMjc0MmQ0NjU2NTllNDJkMjg4Yjk1Yjk4M2EyM2E1M2UpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfZjg1MmRkMDFiMmUzNDA5OTgyM2ViNTA5ZGUxZjA4YmQgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjUxMjMyMDQ2NDk1NTcxNCwgLTAuMTMzMTE3NDQ3MjM4NzYwMThdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzJmYzI5YjMxNTE2NDAzZWIxZTVlZGY5NDczMDcyYWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MDkxNTI5ODk3MjM4NDQsLTAuMTIzNTMyNTQxNzE2MjU4NDldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWU2MzIyNTU2MGFkNDAzN2I3ZDc3NGRjNTYwYWRkM2IgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmViYzQwY2YwMzY5NGZmMzgzNjE5NDU3M2UxZWM0NWEgPSAkKCc8ZGl2IGlkPSJodG1sXzZlYmM0MGNmMDM2OTRmZjM4MzYxOTQ1NzNlMWVjNDVhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SZXRybyBCYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VlNjMyMjU1NjBhZDQwMzdiN2Q3NzRkYzU2MGFkZDNiLnNldENvbnRlbnQoaHRtbF82ZWJjNDBjZjAzNjk0ZmYzODM2MTk0NTczZTFlYzQ1YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83MmZjMjliMzE1MTY0MDNlYjFlNWVkZjk0NzMwNzJhYS5iaW5kUG9wdXAocG9wdXBfZWU2MzIyNTU2MGFkNDAzN2I3ZDc3NGRjNTYwYWRkM2IpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfMWFmZjEzNGJlNWViNGU2NGE4Yzc2MjMyNmM0MDQ0MDIgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjUwOTE1Mjk4OTcyMzg0NCwgLTAuMTIzNTMyNTQxNzE2MjU4NDldXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTJkY2FkMzcyODIyNDAzYjllMmNjY2NiNmM5MTk4NDEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40ODYyNjgsLTAuMTE5MjczXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RiMTEyNTgxNzg2MjRhODg5NGQ0N2NhZmQyMDNmYWQwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y2YzJjYzZmZDQ3ZDRiMTBhOWZiOGQ0NDRmYTEyNmI5ID0gJCgnPGRpdiBpZD0iaHRtbF9mNmMyY2M2ZmQ0N2Q0YjEwYTlmYjhkNDQ0ZmExMjZiOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEVhZ2xlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kYjExMjU4MTc4NjI0YTg4OTRkNDdjYWZkMjAzZmFkMC5zZXRDb250ZW50KGh0bWxfZjZjMmNjNmZkNDdkNGIxMGE5ZmI4ZDQ0NGZhMTI2YjkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTJkY2FkMzcyODIyNDAzYjllMmNjY2NiNmM5MTk4NDEuYmluZFBvcHVwKHBvcHVwX2RiMTEyNTgxNzg2MjRhODg5NGQ0N2NhZmQyMDNmYWQwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lX2EzMmMwYjJiNzA5ZjQ4N2ViZDRkYWM3OWRkYWNkMzIxID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS40ODYyNjgsIC0wLjExOTI3M11dLAogICAgICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogZmFsc2UsCiAgImZpbGxDb2xvciI6ICJyZWQiLAogICJmaWxsT3BhY2l0eSI6IDAuMiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm5vQ2xpcCI6IGZhbHNlLAogICJvcGFjaXR5IjogMC41LAogICJzbW9vdGhGYWN0b3IiOiAxLjAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDEuNQp9KS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mZTljZDlmYzc5NDU0MmYzYjUxNWExZjYyNWFmOTM2MiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjQ4NjM5ODY5MzA2MTIyLC0wLjExMTQxMjA4NTgyNTg2NDZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmY4MmE0MGNjZWNmNDQ0MDkyOTdkOGY5Y2U0MzRiN2MgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmZmOTZiNzE3MGE4NDEzMWEyZjc2OWY1M2IyMzYyMWMgPSAkKCc8ZGl2IGlkPSJodG1sXzZmZjk2YjcxNzBhODQxMzFhMmY3NjlmNTNiMjM2MjFjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgQ29jayBUYXZlcm48L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZmODJhNDBjY2VjZjQ0NDA5Mjk3ZDhmOWNlNDM0YjdjLnNldENvbnRlbnQoaHRtbF82ZmY5NmI3MTcwYTg0MTMxYTJmNzY5ZjUzYjIzNjIxYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mZTljZDlmYzc5NDU0MmYzYjUxNWExZjYyNWFmOTM2Mi5iaW5kUG9wdXAocG9wdXBfZmY4MmE0MGNjZWNmNDQ0MDkyOTdkOGY5Y2U0MzRiN2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfNjFiMzgwODljYzkzNGM5MTlkNWE0MjA3YTUxMzFjMjIgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjQ4NjM5ODY5MzA2MTIyLCAtMC4xMTE0MTIwODU4MjU4NjQ2XV0sCiAgICAgICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiBmYWxzZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC4yLAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAibm9DbGlwIjogZmFsc2UsCiAgIm9wYWNpdHkiOiAwLjUsCiAgInNtb290aEZhY3RvciI6IDEuMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMS41Cn0pLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2IzYmVjZDkzMDgxZjQ0ZTY4NTBhMjM5Y2NlMDg3OGEyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNDYzMDcwOTg1ODE3NjQsLTAuMTM0ODYyMjIyNzAxODI2OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMmQxOGQxMTczZTk0MjgzYjY1MjZlZGZlMjBhMmYzMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kODA3NGFmZTU0MzI0MWZjOTEwYmNiMDc5MDJkNjFkMiA9ICQoJzxkaXYgaWQ9Imh0bWxfZDgwNzRhZmU1NDMyNDFmYzkxMGJjYjA3OTAyZDYxZDIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlR3byBCcmV3ZXJzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lMmQxOGQxMTczZTk0MjgzYjY1MjZlZGZlMjBhMmYzMS5zZXRDb250ZW50KGh0bWxfZDgwNzRhZmU1NDMyNDFmYzkxMGJjYjA3OTAyZDYxZDIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjNiZWNkOTMwODFmNDRlNjg1MGEyMzljY2UwODc4YTIuYmluZFBvcHVwKHBvcHVwX2UyZDE4ZDExNzNlOTQyODNiNjUyNmVkZmUyMGEyZjMxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lX2E4ZjE4YTJiYTFjYzQ0YmVhY2M0MDBmZGQ4NDZiZTU5ID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS40NjMwNzA5ODU4MTc2NCwgLTAuMTM0ODYyMjIyNzAxODI2OF1dLAogICAgICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogZmFsc2UsCiAgImZpbGxDb2xvciI6ICJyZWQiLAogICJmaWxsT3BhY2l0eSI6IDAuMiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm5vQ2xpcCI6IGZhbHNlLAogICJvcGFjaXR5IjogMC41LAogICJzbW9vdGhGYWN0b3IiOiAxLjAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDEuNQp9KS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81YjQzMWVjYWI0YWI0MjhmYTY4MWY2Mjk0NTY5YzE4ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxMjA3NDk1MzMwMDcsLTAuMTMzODY0NTE4MjM1NzMxMjhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGI4ZTM0YWIxZDViNDk1MzkxYTlmZGQzZDM4MDY1YTcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDQ2ZDNiYTlhY2Y3NGU4OWEwZWNiNjc5YTFjMTU2ZWMgPSAkKCc8ZGl2IGlkPSJodG1sXzQ0NmQzYmE5YWNmNzRlODlhMGVjYjY3OWExYzE1NmVjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgWWFyZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGI4ZTM0YWIxZDViNDk1MzkxYTlmZGQzZDM4MDY1YTcuc2V0Q29udGVudChodG1sXzQ0NmQzYmE5YWNmNzRlODlhMGVjYjY3OWExYzE1NmVjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzViNDMxZWNhYjRhYjQyOGZhNjgxZjYyOTQ1NjljMThlLmJpbmRQb3B1cChwb3B1cF9kYjhlMzRhYjFkNWI0OTUzOTFhOWZkZDNkMzgwNjVhNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICAgICAgdmFyIHBvbHlfbGluZV80MWY1MjJlMWMxNzc0YjJhYjdhZjE0NzY2NTlhYjI0NyA9IEwucG9seWxpbmUoCiAgICAgICAgICAgICAgICAgICAgW1s1MS41MDMxMjAxMzQzNDMyMSwgLTAuMTI5Mzg0MTkzNjc2NjkzMzVdLCBbNTEuNTEyMDc0OTUzMzAwNywgLTAuMTMzODY0NTE4MjM1NzMxMjhdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjNlNWUzMzlmMGRjNGIwNWE1MTBjMzM2ZjdlYWJiYTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40NjQ3NDk3ODkyMDYyNSwtMC4xMzExNTgxODQ4Mzk4MjEyMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ODMzODA1NGJmZjk0YzYxOGUyYTg1MDE5NDliODFlYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MWI1MmM0Y2IzYmM0YTAxOTk5NDRhNGI2NzM3ZDdlZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNzFiNTJjNGNiM2JjNGEwMTk5OTQ0YTRiNjczN2Q3ZWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBCcmlkZ2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc4MzM4MDU0YmZmOTRjNjE4ZTJhODUwMTk0OWI4MWVjLnNldENvbnRlbnQoaHRtbF83MWI1MmM0Y2IzYmM0YTAxOTk5NDRhNGI2NzM3ZDdlZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mM2U1ZTMzOWYwZGM0YjA1YTUxMGMzMzZmN2VhYmJhMy5iaW5kUG9wdXAocG9wdXBfNzgzMzgwNTRiZmY5NGM2MThlMmE4NTAxOTQ5YjgxZWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfMjYyYzkzNzRiMTZjNDk0NThkM2MyYzI5ZTE1Y2U5MmIgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjQ2NDc0OTc4OTIwNjI1LCAtMC4xMzExNTgxODQ4Mzk4MjEyMl1dLAogICAgICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogZmFsc2UsCiAgImZpbGxDb2xvciI6ICJyZWQiLAogICJmaWxsT3BhY2l0eSI6IDAuMiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm5vQ2xpcCI6IGZhbHNlLAogICJvcGFjaXR5IjogMC41LAogICJzbW9vdGhGYWN0b3IiOiAxLjAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDEuNQp9KS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84MTY2MGFjMWY2NDI0ZTk0YjQ1MzRlYTQxNGEzYTUxZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxMTc1ODczMjAxMTg0LC0wLjEyOTU1Mjc4ODkzMTI0MDhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTA3M2VjMjM3YWEyNGE4MmE1NDhkZmY3MjI3ZDFiMjIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzY2YTExYzRkMzEyNGRiZjg1ZmQxOGQ4OTVjYmFlZDMgPSAkKCc8ZGl2IGlkPSJodG1sXzc2NmExMWM0ZDMxMjRkYmY4NWZkMThkODk1Y2JhZWQzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LdSBCYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2EwNzNlYzIzN2FhMjRhODJhNTQ4ZGZmNzIyN2QxYjIyLnNldENvbnRlbnQoaHRtbF83NjZhMTFjNGQzMTI0ZGJmODVmZDE4ZDg5NWNiYWVkMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84MTY2MGFjMWY2NDI0ZTk0YjQ1MzRlYTQxNGEzYTUxZC5iaW5kUG9wdXAocG9wdXBfYTA3M2VjMjM3YWEyNGE4MmE1NDhkZmY3MjI3ZDFiMjIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfODI3YTZhMWRhNmQ3NGQwY2JiOGI3MDkyMjhmMzVmM2YgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjUxMTc1ODczMjAxMTg0LCAtMC4xMjk1NTI3ODg5MzEyNDA4XV0sCiAgICAgICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiBmYWxzZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC4yLAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAibm9DbGlwIjogZmFsc2UsCiAgIm9wYWNpdHkiOiAwLjUsCiAgInNtb290aEZhY3RvciI6IDEuMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMS41Cn0pLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzliNDkxNTIxYzY2OTQ3YzZhY2VjNmRiNDgxZDAzYzFhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTE1MTM1MSwtMC4xMzcyODIxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY3MDJkZTQyMTFmMjQ5Yjk4ZWJmNzRlM2M4M2NhZmJmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRlOTI5YjA2NmY3ZjRmNTFhNTRmY2I2N2FlYjkwNTM0ID0gJCgnPGRpdiBpZD0iaHRtbF80ZTkyOWIwNjZmN2Y0ZjUxYTU0ZmNiNjdhZWI5MDUzNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIEtpbmdzIEFybXM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY3MDJkZTQyMTFmMjQ5Yjk4ZWJmNzRlM2M4M2NhZmJmLnNldENvbnRlbnQoaHRtbF80ZTkyOWIwNjZmN2Y0ZjUxYTU0ZmNiNjdhZWI5MDUzNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85YjQ5MTUyMWM2Njk0N2M2YWNlYzZkYjQ4MWQwM2MxYS5iaW5kUG9wdXAocG9wdXBfNjcwMmRlNDIxMWYyNDliOThlYmY3NGUzYzgzY2FmYmYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfYWFmMGJlN2JkZmVlNDdhNGIxZjRmOGU5NTZhYmRhY2MgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjUxNTEzNTEsIC0wLjEzNzI4MjFdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTU0M2NkNDEyYzdlNDc4M2E1NDM5MWY3NWZlYjViMjUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTI1ODI0MjYzMDQyNTYsLTAuMTMyNTMwNDA3OTg2Njc4MjZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDg0NDI3NDI2NTU0NDNiYmExOWFmZDAzYTMzNWFhODkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2IyNDQ1MWNhZmU3NGE3YmExMGY2OTE3NTc2ZjkyZTMgPSAkKCc8ZGl2IGlkPSJodG1sXzdiMjQ0NTFjYWZlNzRhN2JhMTBmNjkxNzU3NmY5MmUzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Db21wdG9uczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDg0NDI3NDI2NTU0NDNiYmExOWFmZDAzYTMzNWFhODkuc2V0Q29udGVudChodG1sXzdiMjQ0NTFjYWZlNzRhN2JhMTBmNjkxNzU3NmY5MmUzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU1NDNjZDQxMmM3ZTQ3ODNhNTQzOTFmNzVmZWI1YjI1LmJpbmRQb3B1cChwb3B1cF80ODQ0Mjc0MjY1NTQ0M2JiYTE5YWZkMDNhMzM1YWE4OSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICAgICAgdmFyIHBvbHlfbGluZV9hMGY0NTdjMjE1ZDY0MGFkYmIwZDNhZjUyZWQwOThjNyA9IEwucG9seWxpbmUoCiAgICAgICAgICAgICAgICAgICAgW1s1MS41MDMxMjAxMzQzNDMyMSwgLTAuMTI5Mzg0MTkzNjc2NjkzMzVdLCBbNTEuNTEyNTgyNDI2MzA0MjU2LCAtMC4xMzI1MzA0MDc5ODY2NzgyNl1dLAogICAgICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogZmFsc2UsCiAgImZpbGxDb2xvciI6ICJyZWQiLAogICJmaWxsT3BhY2l0eSI6IDAuMiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm5vQ2xpcCI6IGZhbHNlLAogICJvcGFjaXR5IjogMC41LAogICJzbW9vdGhGYWN0b3IiOiAxLjAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDEuNQp9KS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81ZTI2MzRkODM3NDc0YmQyOWU5OGUxYzc4N2Y2YjU0YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxMjM4NywtMC4xMzMyMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yZTQ3ZDUxNWI3NWI0Yjc5YWVlNzVhNWVhM2QxZTIyOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jYzI3ZmEyMzc5NTY0Njg0YTFlNGM3Mjc5MGQ4OTJjNyA9ICQoJzxkaXYgaWQ9Imh0bWxfY2MyN2ZhMjM3OTU2NDY4NGExZTRjNzI3OTBkODkyYzciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBGcmllbmRseSBTb2NpZXR5PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yZTQ3ZDUxNWI3NWI0Yjc5YWVlNzVhNWVhM2QxZTIyOC5zZXRDb250ZW50KGh0bWxfY2MyN2ZhMjM3OTU2NDY4NGExZTRjNzI3OTBkODkyYzcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNWUyNjM0ZDgzNzQ3NGJkMjllOThlMWM3ODdmNmI1NGIuYmluZFBvcHVwKHBvcHVwXzJlNDdkNTE1Yjc1YjRiNzlhZWU3NWE1ZWEzZDFlMjI4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lXzJkYzA5ODJiMDNiNjQ5NjE5ZmVkMmFhNDFiOGZiOTVjID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS41MTIzODcsIC0wLjEzMzIyXV0sCiAgICAgICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiBmYWxzZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC4yLAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAibm9DbGlwIjogZmFsc2UsCiAgIm9wYWNpdHkiOiAwLjUsCiAgInNtb290aEZhY3RvciI6IDEuMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMS41Cn0pLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzllMjUxMmJmOTk0MzQwMTdhZDgwYWNjYTRiZGEwODJkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTA3OTc4ODAxNDI2OTMsLTAuMTI0MTM2NjMyOTQ1NTM0MTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWIwMDYyN2Y2MGRmNDJkMGJmNzNmYTcyZTUxMGE1ODMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTc3ZTg3ODhmMGU0NDU1YTliNzYxYjRlNGY4OWQyODEgPSAkKCc8ZGl2IGlkPSJodG1sXzU3N2U4Nzg4ZjBlNDQ1NWE5Yjc2MWI0ZTRmODlkMjgxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IZWF2ZW48L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzliMDA2MjdmNjBkZjQyZDBiZjczZmE3MmU1MTBhNTgzLnNldENvbnRlbnQoaHRtbF81NzdlODc4OGYwZTQ0NTVhOWI3NjFiNGU0Zjg5ZDI4MSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZTI1MTJiZjk5NDM0MDE3YWQ4MGFjY2E0YmRhMDgyZC5iaW5kUG9wdXAocG9wdXBfOWIwMDYyN2Y2MGRmNDJkMGJmNzNmYTcyZTUxMGE1ODMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfZWQyMTFjMTY4OTBhNGRjMWFiMGQwNTBhNmE3ZjM1MWEgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjUwNzk3ODgwMTQyNjkzLCAtMC4xMjQxMzY2MzI5NDU1MzQxM11dLAogICAgICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogZmFsc2UsCiAgImZpbGxDb2xvciI6ICJyZWQiLAogICJmaWxsT3BhY2l0eSI6IDAuMiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm5vQ2xpcCI6IGZhbHNlLAogICJvcGFjaXR5IjogMC41LAogICJzbW9vdGhGYWN0b3IiOiAxLjAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDEuNQp9KS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kNDE0ODIwMjY0MTI0NzQ4YWNjOGRiNjUyMWFhN2Q1NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxMjE3NjYzMDI1MDg4NSwtMC4xMzM0NTYyMjQ1MzY4NzE1Nl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84ZjMwN2QzOGEyNTM0ZDM0YmVjNzc1N2Q2ZjgxZmY0NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yMDE1MDU1YTYxYjg0N2YzYjFhZWIxNjllOTczMzAzOSA9ICQoJzxkaXYgaWQ9Imh0bWxfMjAxNTA1NWE2MWI4NDdmM2IxYWViMTY5ZTk3MzMwMzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJ1cGVydCBTdHJlZXQgQmFyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84ZjMwN2QzOGEyNTM0ZDM0YmVjNzc1N2Q2ZjgxZmY0NS5zZXRDb250ZW50KGh0bWxfMjAxNTA1NWE2MWI4NDdmM2IxYWViMTY5ZTk3MzMwMzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDQxNDgyMDI2NDEyNDc0OGFjYzhkYjY1MjFhYTdkNTQuYmluZFBvcHVwKHBvcHVwXzhmMzA3ZDM4YTI1MzRkMzRiZWM3NzU3ZDZmODFmZjQ1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lXzM4MWEzYTgwNDVlYjQ0ZTVhNzI5NjBiYTVkNmU4MzkwID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS41MTIxNzY2MzAyNTA4ODUsIC0wLjEzMzQ1NjIyNDUzNjg3MTU2XV0sCiAgICAgICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiBmYWxzZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC4yLAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAibm9DbGlwIjogZmFsc2UsCiAgIm9wYWNpdHkiOiAwLjUsCiAgInNtb290aEZhY3RvciI6IDEuMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMS41Cn0pLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ5ZjQ1YmU3NDU5ZTQyMzVhY2Y1NjEzYWY2NzY0ZmFhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTEzODQ5NjI4MTY0NSwtMC4xMjk1MzcyOTcyMTQ2MjMxNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNzBmYjlkNDI3Mjc0MTk4ODJjZjBmOTVjMDg0OWRlNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lYzZiNWNhOTdiM2M0YTUyYTJmMTdkYjJkOWI0ZGFhMSA9ICQoJzxkaXYgaWQ9Imh0bWxfZWM2YjVjYTk3YjNjNGE1MmEyZjE3ZGIyZDliNGRhYTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBDb21wdG9uIENyb3NzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNzBmYjlkNDI3Mjc0MTk4ODJjZjBmOTVjMDg0OWRlNi5zZXRDb250ZW50KGh0bWxfZWM2YjVjYTk3YjNjNGE1MmEyZjE3ZGIyZDliNGRhYTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDlmNDViZTc0NTllNDIzNWFjZjU2MTNhZjY3NjRmYWEuYmluZFBvcHVwKHBvcHVwXzA3MGZiOWQ0MjcyNzQxOTg4MmNmMGY5NWMwODQ5ZGU2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lX2ZkMDg5ZWQ4YzUzYTRjMDRhYWFmNDg4NjZkMWUxOGVjID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS41MTM4NDk2MjgxNjQ1LCAtMC4xMjk1MzcyOTcyMTQ2MjMxNV1dLAogICAgICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogZmFsc2UsCiAgImZpbGxDb2xvciI6ICJyZWQiLAogICJmaWxsT3BhY2l0eSI6IDAuMiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm5vQ2xpcCI6IGZhbHNlLAogICJvcGFjaXR5IjogMC41LAogICJzbW9vdGhGYWN0b3IiOiAxLjAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDEuNQp9KS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80M2E3OGFmN2YwZWY0OWFiYWZlNGIwZjNlMDk5NTdmNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxMjkwNTg0MjM0NTY0NiwtMC4xMzIyOTA0Mzc0MTcwNTQ4Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kN2QwMmMwMmJlMDU0NGQ0YjlhNzZmNDI1ZDhhNmI3NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kOGQyZmFmNzc1ODE0NjE2YWFhZWU3NjE0MzFkNDRkOCA9ICQoJzxkaXYgaWQ9Imh0bWxfZDhkMmZhZjc3NTgxNDYxNmFhYWVlNzYxNDMxZDQ0ZDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFkbWlyYWwgRHVuY2FuPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kN2QwMmMwMmJlMDU0NGQ0YjlhNzZmNDI1ZDhhNmI3Ny5zZXRDb250ZW50KGh0bWxfZDhkMmZhZjc3NTgxNDYxNmFhYWVlNzYxNDMxZDQ0ZDgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDNhNzhhZjdmMGVmNDlhYmFmZTRiMGYzZTA5OTU3ZjQuYmluZFBvcHVwKHBvcHVwX2Q3ZDAyYzAyYmUwNTQ0ZDRiOWE3NmY0MjVkOGE2Yjc3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lXzRkNjRjY2JmNDlhNTQ1OTc5NTUzY2M3YzQ3N2JhYTdhID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS41MTI5MDU4NDIzNDU2NDYsIC0wLjEzMjI5MDQzNzQxNzA1NDgyXV0sCiAgICAgICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiBmYWxzZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC4yLAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAibm9DbGlwIjogZmFsc2UsCiAgIm9wYWNpdHkiOiAwLjUsCiAgInNtb290aEZhY3RvciI6IDEuMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMS41Cn0pLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNjNGJiNjgyMzVmZDQwM2M4ODMxYzdmNDNhYWQzMzM3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNDk3NjA5ODgyMjIxMzA1LC0wLjE0MjU5MDgzMjg5OTUxNDNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjg4OTcyYmU4NWU2NDc1YzhjNGI5MWMwODczZmI5ZGEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmYwZGFjNzM4M2RmNDQ2MGFiYTQ2Y2NiNmI5MGFhNjcgPSAkKCc8ZGl2IGlkPSJodG1sXzZmMGRhYzczODNkZjQ0NjBhYmE0NmNjYjZiOTBhYTY3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdGFnPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yODg5NzJiZTg1ZTY0NzVjOGM0YjkxYzA4NzNmYjlkYS5zZXRDb250ZW50KGh0bWxfNmYwZGFjNzM4M2RmNDQ2MGFiYTQ2Y2NiNmI5MGFhNjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2M0YmI2ODIzNWZkNDAzYzg4MzFjN2Y0M2FhZDMzMzcuYmluZFBvcHVwKHBvcHVwXzI4ODk3MmJlODVlNjQ3NWM4YzRiOTFjMDg3M2ZiOWRhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lX2M1ZTZiYjNkMWIyNDQ2N2M5YzhkNTIxZTRjZjY5NmEzID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS40OTc2MDk4ODIyMjEzMDUsIC0wLjE0MjU5MDgzMjg5OTUxNDNdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjAyNjY1OWVmZjU4NGZhODhlZDEwMzQ5YmQ4YWFkYzYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40ODQ2NDU0OTkyNjE5NiwtMC4xMjgxMTAxMzEzMTAwNzcwNF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZWIxMjg3MDQwYWE0YTM5YmUxNDgyYmZiZDRmNjExYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wZDAzMzAzZGM1NGU0MjhjYTM3MDBlOGRlZmQ3NGI3YSA9ICQoJzxkaXYgaWQ9Imh0bWxfMGQwMzMwM2RjNTRlNDI4Y2EzNzAwZThkZWZkNzRiN2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNsdWIgQ29sb3NzZXVtPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jZWIxMjg3MDQwYWE0YTM5YmUxNDgyYmZiZDRmNjExYi5zZXRDb250ZW50KGh0bWxfMGQwMzMwM2RjNTRlNDI4Y2EzNzAwZThkZWZkNzRiN2EpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjAyNjY1OWVmZjU4NGZhODhlZDEwMzQ5YmQ4YWFkYzYuYmluZFBvcHVwKHBvcHVwX2NlYjEyODcwNDBhYTRhMzliZTE0ODJiZmJkNGY2MTFiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lX2ViNDZmOTNmMzI0NjRlNDViOGU1NmQyNDM1ZjgwZmZiID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS40ODQ2NDU0OTkyNjE5NiwgLTAuMTI4MTEwMTMxMzEwMDc3MDRdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGRmOWY0ZjA0MTVmNDhjYTk5MTA0NjcyYjhkODcwZDggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40ODY5NjI1OTcxNzU4NTQsLTAuMTIzMzU5NjcwMzM0Mzg3MDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTJmMmI0MmU2MDRjNGRlZWI2ZmI3ZDliM2NjOTZhZDkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTJmMWQ0YzE2ZWRhNDFhNzhjOWE4MDZhOWQ0YzA3ZDggPSAkKCc8ZGl2IGlkPSJodG1sX2UyZjFkNGMxNmVkYTQxYTc4YzlhODA2YTlkNGMwN2Q4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5VbmlvbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTJmMmI0MmU2MDRjNGRlZWI2ZmI3ZDliM2NjOTZhZDkuc2V0Q29udGVudChodG1sX2UyZjFkNGMxNmVkYTQxYTc4YzlhODA2YTlkNGMwN2Q4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBkZjlmNGYwNDE1ZjQ4Y2E5OTEwNDY3MmI4ZDg3MGQ4LmJpbmRQb3B1cChwb3B1cF9lMmYyYjQyZTYwNGM0ZGVlYjZmYjdkOWIzY2M5NmFkOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICAgICAgdmFyIHBvbHlfbGluZV8zZmZkNTBlYjg0Njg0OGYxYWM0MjQ5OWE1MTAyY2FkZSA9IEwucG9seWxpbmUoCiAgICAgICAgICAgICAgICAgICAgW1s1MS41MDMxMjAxMzQzNDMyMSwgLTAuMTI5Mzg0MTkzNjc2NjkzMzVdLCBbNTEuNDg2OTYyNTk3MTc1ODU0LCAtMC4xMjMzNTk2NzAzMzQzODcwMV1dLAogICAgICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogZmFsc2UsCiAgImZpbGxDb2xvciI6ICJyZWQiLAogICJmaWxsT3BhY2l0eSI6IDAuMiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm5vQ2xpcCI6IGZhbHNlLAogICJvcGFjaXR5IjogMC41LAogICJzbW9vdGhGYWN0b3IiOiAxLjAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDEuNQp9KS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wZTQ1MWJmZWY0MDY0ZWVhYmMzZTA2MTU3ZTBjMjFjMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxMjU1MzAxMDg1ODg2LC0wLjEzMzQ5MDkzNjQ3OTk2Mjc0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2E1MDQ3M2YwMjljNTQyYTdiM2U0ZDhlZjc4ZDIxN2Y2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNhN2EzNDAzMzljYjQzYjdiZDg0N2FiNDllNWI4ZjlkID0gJCgnPGRpdiBpZD0iaHRtbF8zYTdhMzQwMzM5Y2I0M2I3YmQ4NDdhYjQ5ZTViOGY5ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VmlsbGFnZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTUwNDczZjAyOWM1NDJhN2IzZTRkOGVmNzhkMjE3ZjYuc2V0Q29udGVudChodG1sXzNhN2EzNDAzMzljYjQzYjdiZDg0N2FiNDllNWI4ZjlkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzBlNDUxYmZlZjQwNjRlZWFiYzNlMDYxNTdlMGMyMWMwLmJpbmRQb3B1cChwb3B1cF9hNTA0NzNmMDI5YzU0MmE3YjNlNGQ4ZWY3OGQyMTdmNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICAgICAgdmFyIHBvbHlfbGluZV9iOGQxNTI0MmRmMWM0NTk4ODZjMDUwMTQ5MDI2ZWI0YiA9IEwucG9seWxpbmUoCiAgICAgICAgICAgICAgICAgICAgW1s1MS41MDMxMjAxMzQzNDMyMSwgLTAuMTI5Mzg0MTkzNjc2NjkzMzVdLCBbNTEuNTEyNTUzMDEwODU4ODYsIC0wLjEzMzQ5MDkzNjQ3OTk2Mjc0XV0sCiAgICAgICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiBmYWxzZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC4yLAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAibm9DbGlwIjogZmFsc2UsCiAgIm9wYWNpdHkiOiAwLjUsCiAgInNtb290aEZhY3RvciI6IDEuMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMS41Cn0pLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JiZjE3MmVmMmUzNjQyN2RiYzFiYjljNmE2OGFjYzIwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTEzMTc4NzEyMDc5OTU2LC0wLjEzMTEyMDMzMzcwNzcyMDQ0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzEzMThhMTM5YTAxYTRlYjI5MTdkMDJiOGNiZDNmMGMyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NlZmU0NDFjYWI2ZDQ1MzRiYzBmNmFjNGI0ZTQ1YTljID0gJCgnPGRpdiBpZD0iaHRtbF9jZWZlNDQxY2FiNmQ0NTM0YmMwZjZhYzRiNGU0NWE5YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2hlIFNvaG88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzEzMThhMTM5YTAxYTRlYjI5MTdkMDJiOGNiZDNmMGMyLnNldENvbnRlbnQoaHRtbF9jZWZlNDQxY2FiNmQ0NTM0YmMwZjZhYzRiNGU0NWE5Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iYmYxNzJlZjJlMzY0MjdkYmMxYmI5YzZhNjhhY2MyMC5iaW5kUG9wdXAocG9wdXBfMTMxOGExMzlhMDFhNGViMjkxN2QwMmI4Y2JkM2YwYzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfNmE4ZGIwYjc0YWY4NDU4ZmJkOTQ2NDMyMjlmNjk2ZTAgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjUxMzE3ODcxMjA3OTk1NiwgLTAuMTMxMTIwMzMzNzA3NzIwNDRdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjRjZGE5MTJhOWY0NDI2ZTk5ZTZiMTMyY2UxZTBiYzAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40ODk5MDA1NTI0NjU4OSwtMC4xMDgxODg1ODAyNjU4NDExN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yNzdhNjI2ZjViZWQ0NzI3YmExMGE0N2Y0Y2RjZjA5MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xNTE2Yzg0ZjhhODQ0ZTUyODg5YTMyYmRkNTc1MjEyZiA9ICQoJzxkaXYgaWQ9Imh0bWxfMTUxNmM4NGY4YTg0NGU1Mjg4OWEzMmJkZDU3NTIxMmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBLaW5nJiMzOTtzIEFybXM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI3N2E2MjZmNWJlZDQ3MjdiYTEwYTQ3ZjRjZGNmMDkyLnNldENvbnRlbnQoaHRtbF8xNTE2Yzg0ZjhhODQ0ZTUyODg5YTMyYmRkNTc1MjEyZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNGNkYTkxMmE5ZjQ0MjZlOTllNmIxMzJjZTFlMGJjMC5iaW5kUG9wdXAocG9wdXBfMjc3YTYyNmY1YmVkNDcyN2JhMTBhNDdmNGNkY2YwOTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfZDU2ZDRmMWVkZWU5NGJjMDhkZmI0ZjQzMzZkZmZjZGMgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjQ4OTkwMDU1MjQ2NTg5LCAtMC4xMDgxODg1ODAyNjU4NDExN11dLAogICAgICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogZmFsc2UsCiAgImZpbGxDb2xvciI6ICJyZWQiLAogICJmaWxsT3BhY2l0eSI6IDAuMiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm5vQ2xpcCI6IGZhbHNlLAogICJvcGFjaXR5IjogMC41LAogICJzbW9vdGhGYWN0b3IiOiAxLjAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDEuNQp9KS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kMTg4ODZlYzYwZWQ0ODk0YmRhNWE2MmI2OTJiZGQ5MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUwODQyNTk4NTAxNjUsLTAuMTI2NTE1OTQ5Njg1NDI2NjhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWYzYmY2YWY0MGUxNDg2NGJjY2IyOTMyZmIxYjAwYzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzQwOTU1MDExMWEzNGFiN2E3MmZjYzM3NDc3YTk4MTUgPSAkKCc8ZGl2IGlkPSJodG1sXzM0MDk1NTAxMTFhMzRhYjdhNzJmY2MzNzQ3N2E5ODE1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IYWxmd2F5IDIgSGVhdmVuPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81ZjNiZjZhZjQwZTE0ODY0YmNjYjI5MzJmYjFiMDBjMS5zZXRDb250ZW50KGh0bWxfMzQwOTU1MDExMWEzNGFiN2E3MmZjYzM3NDc3YTk4MTUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDE4ODg2ZWM2MGVkNDg5NGJkYTVhNjJiNjkyYmRkOTEuYmluZFBvcHVwKHBvcHVwXzVmM2JmNmFmNDBlMTQ4NjRiY2NiMjkzMmZiMWIwMGMxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lXzMxMDMzZDM3ZDAwZTQyMDdhNTJmMjRmODQxNDMyZWI5ID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS41MDg0MjU5ODUwMTY1LCAtMC4xMjY1MTU5NDk2ODU0MjY2OF1dLAogICAgICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogZmFsc2UsCiAgImZpbGxDb2xvciI6ICJyZWQiLAogICJmaWxsT3BhY2l0eSI6IDAuMiwKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm5vQ2xpcCI6IGZhbHNlLAogICJvcGFjaXR5IjogMC41LAogICJzbW9vdGhGYWN0b3IiOiAxLjAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDEuNQp9KS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xODVjN2NiZjEyNmM0MTJlODU1NjhkM2E3ODUwZTAyMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzUxLjUxMjY4NDU2ODQxNDMxNSwtMC4xMzM0MzAzNjExOTU4MzEzMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jMzU2OTBmMWFjNzY0MjIwYWI3YjhhMWQzYzkzNjhhNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84ZDJhZjA5NjA4ZjY0YWVlOWE0NDllMDZkY2ZmZTJiZCA9ICQoJzxkaXYgaWQ9Imh0bWxfOGQyYWYwOTYwOGY2NGFlZTlhNDQ5ZTA2ZGNmZmUyYmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZyZWVkb20gQmFyICZhbXA7IENsdWI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2MzNTY5MGYxYWM3NjQyMjBhYjdiOGExZDNjOTM2OGE1LnNldENvbnRlbnQoaHRtbF84ZDJhZjA5NjA4ZjY0YWVlOWE0NDllMDZkY2ZmZTJiZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xODVjN2NiZjEyNmM0MTJlODU1NjhkM2E3ODUwZTAyMC5iaW5kUG9wdXAocG9wdXBfYzM1NjkwZjFhYzc2NDIyMGFiN2I4YTFkM2M5MzY4YTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfOWY2YzgyMDBiMmZiNDI2NWE5YmQzY2EwNmU5OGE4ZGUgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjUxMjY4NDU2ODQxNDMxNSwgLTAuMTMzNDMwMzYxMTk1ODMxMzJdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2JiZDQxNzVjMjMyNDgzNWEzOWZiYzRlNGRlNTA2YWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTQzODI4MDUzMTU2OSwtMC4xMzIwNzYwMDk0OTAwMzUzN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82YTJmYzM4ZmUwYzk0Mzg2YTgwNTgzZDA2YWMyOWFlOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mZjYxYzRjMTJiNTQ0MjEyYWE2M2YxY2M2NjBkOWIwZiA9ICQoJzxkaXYgaWQ9Imh0bWxfZmY2MWM0YzEyYjU0NDIxMmFhNjNmMWNjNjYwZDliMGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNpcmNhPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82YTJmYzM4ZmUwYzk0Mzg2YTgwNTgzZDA2YWMyOWFlOC5zZXRDb250ZW50KGh0bWxfZmY2MWM0YzEyYjU0NDIxMmFhNjNmMWNjNjYwZDliMGYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfY2JiZDQxNzVjMjMyNDgzNWEzOWZiYzRlNGRlNTA2YWIuYmluZFBvcHVwKHBvcHVwXzZhMmZjMzhmZTBjOTQzODZhODA1ODNkMDZhYzI5YWU4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lX2UxNTMyMjEwMjkzMDQ5MjhiYzU1YTk5ZGE2MGRiY2E0ID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS41MTQzODI4MDUzMTU2OSwgLTAuMTMyMDc2MDA5NDkwMDM1MzddXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2NhM2IwNjQ2ZTFmNGMwYmFhZThhZTZkZDhmNGFhYzcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTM0NDU1NzExMzM0NDUsLTAuMTMxMTQ5MTg2NDgxNzEzOTJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmMyNGZmNzNhZDc1NDk5ZjlmNzNhZjY1MjFkMTdjNjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2U1MWIzYmMxNWQ2NGJlYjljZjhjMTYyZDBiMDgxY2QgPSAkKCc8ZGl2IGlkPSJodG1sX2NlNTFiM2JjMTVkNjRiZWI5Y2Y4YzE2MmQwYjA4MWNkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HLUEtWSBCYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJjMjRmZjczYWQ3NTQ5OWY5ZjczYWY2NTIxZDE3YzYzLnNldENvbnRlbnQoaHRtbF9jZTUxYjNiYzE1ZDY0YmViOWNmOGMxNjJkMGIwODFjZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zY2EzYjA2NDZlMWY0YzBiYWFlOGFlNmRkOGY0YWFjNy5iaW5kUG9wdXAocG9wdXBfMmMyNGZmNzNhZDc1NDk5ZjlmNzNhZjY1MjFkMTdjNjMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfMGNlNjYwODViMmQ1NDQ4OGJmMjk0MzZjMDMxZGU3NzMgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjUxMzQ0NTU3MTEzMzQ0NSwgLTAuMTMxMTQ5MTg2NDgxNzEzOTJdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDRhYzc2YzU3OGFmNDVkZDgzMGE5NjBjOThkZGNkZWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTMwODgwNzU5NzgzMjQsLTAuMTMxMTM1MTY4ODgxODY0MDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDU4MjU4NzE3ODY3NGM3Y2I2MGUxOGY1NGE0ODM1ZDAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODcxM2ZhMGU0OTgwNGIyNjk1ZGI2YzEzNWQ4ODgwOTAgPSAkKCc8ZGl2IGlkPSJodG1sXzg3MTNmYTBlNDk4MDRiMjY5NWRiNmMxMzVkODg4MDkwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LdSBCYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA1ODI1ODcxNzg2NzRjN2NiNjBlMThmNTRhNDgzNWQwLnNldENvbnRlbnQoaHRtbF84NzEzZmEwZTQ5ODA0YjI2OTVkYjZjMTM1ZDg4ODA5MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NGFjNzZjNTc4YWY0NWRkODMwYTk2MGM5OGRkY2RlZC5iaW5kUG9wdXAocG9wdXBfMDU4MjU4NzE3ODY3NGM3Y2I2MGUxOGY1NGE0ODM1ZDApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfZGYxMzEzMmI5ODQ0NDMzMGFlZmVkYzQ4YTA1Y2I0NzEgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTAzMTIwMTM0MzQzMjEsIC0wLjEyOTM4NDE5MzY3NjY5MzM1XSwgWzUxLjUxMzA4ODA3NTk3ODMyNCwgLTAuMTMxMTM1MTY4ODgxODY0MDJdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjM4Nzc5OTUwODBkNDJmZWFmYTg0NTk3MDNlZDJlNjQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTM3OTUzMjgyMDg0NzQsLTAuMTU3NzI2OTYyMTU4MjQyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83YTc0MWM2MWE3YjE0YzNiYWFiOTY2YTYzMzQwMzIzMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xNDRjYWY2ZDJiOGM0Yjg1OThlOGFlMmNlMzM4NTJhMSA9ICQoJzxkaXYgaWQ9Imh0bWxfMTQ0Y2FmNmQyYjhjNGI4NTk4ZThhZTJjZTMzODUyYTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNpdHkgT2YgUXVlYmVjPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83YTc0MWM2MWE3YjE0YzNiYWFiOTY2YTYzMzQwMzIzMC5zZXRDb250ZW50KGh0bWxfMTQ0Y2FmNmQyYjhjNGI4NTk4ZThhZTJjZTMzODUyYTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjM4Nzc5OTUwODBkNDJmZWFmYTg0NTk3MDNlZDJlNjQuYmluZFBvcHVwKHBvcHVwXzdhNzQxYzYxYTdiMTRjM2JhYWI5NjZhNjMzNDAzMjMwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lXzQzN2MwNDJiNmQ0MTQ3MzJiZDY5Zjk5ZmQ1MWExNzk2ID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS41MTM3OTUzMjgyMDg0NzQsIC0wLjE1NzcyNjk2MjE1ODI0MjVdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTE3NWJhYzVmMDFhNDk3MTk1M2Y3ZDBiOGM3NWU0ZmMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTMxOTk2OTk5OTk5OSwtMC4xMzEyMjI2MDAwMDAwMDA5N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yODMwNWZiNmZkZWE0ODZhOWYzOGI2ZWRmMWUyZjM0MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MmQ2YmI1MDgyYzI0ZTk1OGNkYTA1OTZlNDI3ZTJmYyA9ICQoJzxkaXYgaWQ9Imh0bWxfNzJkNmJiNTA4MmMyNGU5NThjZGEwNTk2ZTQyN2UyZmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkdheSBCdWRkeTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjgzMDVmYjZmZGVhNDg2YTlmMzhiNmVkZjFlMmYzNDIuc2V0Q29udGVudChodG1sXzcyZDZiYjUwODJjMjRlOTU4Y2RhMDU5NmU0MjdlMmZjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzkxNzViYWM1ZjAxYTQ5NzE5NTNmN2QwYjhjNzVlNGZjLmJpbmRQb3B1cChwb3B1cF8yODMwNWZiNmZkZWE0ODZhOWYzOGI2ZWRmMWUyZjM0Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICAgICAgdmFyIHBvbHlfbGluZV9hYTBiMTk1OGM1MDg0OTAyYWU1ZGZlNDg2YTgzOGJmNSA9IEwucG9seWxpbmUoCiAgICAgICAgICAgICAgICAgICAgW1s1MS41MDMxMjAxMzQzNDMyMSwgLTAuMTI5Mzg0MTkzNjc2NjkzMzVdLCBbNTEuNTEzMTk5Njk5OTk5OTksIC0wLjEzMTIyMjYwMDAwMDAwMDk3XV0sCiAgICAgICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiBmYWxzZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC4yLAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAibm9DbGlwIjogZmFsc2UsCiAgIm9wYWNpdHkiOiAwLjUsCiAgInNtb290aEZhY3RvciI6IDEuMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMS41Cn0pLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBhNDFhM2NkYjhjZjQ1MjVhMjMzYTc2NzY0MzA4MzFmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTA3MzczNTM1MTExMzUsLTAuMTIyMDEyMzQ2OTgyOTU1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMmM1OTYxNTgwOTJjNDgwM2FlYjJiOTczZTYyMjc3NGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzNkMGNkNzQ3MmRhNDk4M2EyODkxNDA0MzJlZWE3N2IgPSAkKCc8ZGl2IGlkPSJodG1sXzMzZDBjZDc0NzJkYTQ5ODNhMjg5MTQwNDMyZWVhNzdiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaXJjYSBDbHViPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yYzU5NjE1ODA5MmM0ODAzYWViMmI5NzNlNjIyNzc0ZS5zZXRDb250ZW50KGh0bWxfMzNkMGNkNzQ3MmRhNDk4M2EyODkxNDA0MzJlZWE3N2IpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGE0MWEzY2RiOGNmNDUyNWEyMzNhNzY3NjQzMDgzMWYuYmluZFBvcHVwKHBvcHVwXzJjNTk2MTU4MDkyYzQ4MDNhZWIyYjk3M2U2MjI3NzRlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lXzk3ZWYwOTk2OTEwYTRiZmI4OGI4YzNhOWVmMTcyYjBjID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS41MDczNzM1MzUxMTEzNSwgLTAuMTIyMDEyMzQ2OTgyOTU1OTNdXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwX2MxZmQzMDk3M2EwZTQwODU5MDA1N2I3ZGU4NTAxNTFkKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmNiY2Y5ZmU5MWMxNGJkNTg1NWJlYzhhYjZhZjA4ZGQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTQwNjg2MDM1MTU2MjUsLTAuMTIzNjk3MTAyMDY5ODU0NzRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzNjOWU0MTJiYTRlNGQ1NTgyYjA5MzljY2M4OGU4MGQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGU0ZTFhZjBjOWMwNDkzZWEyMDE3ZDY4NzMxMjdiZmYgPSAkKCc8ZGl2IGlkPSJodG1sXzRlNGUxYWYwYzljMDQ5M2VhMjAxN2Q2ODczMTI3YmZmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgU3RhYmxlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jM2M5ZTQxMmJhNGU0ZDU1ODJiMDkzOWNjYzg4ZTgwZC5zZXRDb250ZW50KGh0bWxfNGU0ZTFhZjBjOWMwNDkzZWEyMDE3ZDY4NzMxMjdiZmYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmNiY2Y5ZmU5MWMxNGJkNTg1NWJlYzhhYjZhZjA4ZGQuYmluZFBvcHVwKHBvcHVwX2MzYzllNDEyYmE0ZTRkNTU4MmIwOTM5Y2NjODhlODBkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lX2ZmNDVmNDkwMWZjNDQ5OGNiZWRjZGIyZDliMmY3YTE5ID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwMzEyMDEzNDM0MzIxLCAtMC4xMjkzODQxOTM2NzY2OTMzNV0sIFs1MS41MTQwNjg2MDM1MTU2MjUsIC0wLjEyMzY5NzEwMjA2OTg1NDc0XV0sCiAgICAgICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiBmYWxzZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC4yLAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAibm9DbGlwIjogZmFsc2UsCiAgIm9wYWNpdHkiOiAwLjUsCiAgInNtb290aEZhY3RvciI6IDEuMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMS41Cn0pLmFkZFRvKG1hcF9jMWZkMzA5NzNhMGU0MDg1OTAwNTdiN2RlODUwMTUxZCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2U4N2U5YTNjMTVjNjQyYzRhY2IzZWMzZmFmNjRhZjQxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTAzMTIwMTM0MzQzMjEsLTAuMTI5Mzg0MTkzNjc2NjkzMzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2Y2N2I2YSIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogMTAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfYzFmZDMwOTczYTBlNDA4NTkwMDU3YjdkZTg1MDE1MWQpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGVmZjZkZTAwYTQyNGI3MGI1Y2UyNTRjM2JkZjM3ZmUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmQ3Y2ZjYTU3ZjIwNGZjODg5Mzk1MDk2NTI2YzAxYmMgPSAkKCc8ZGl2IGlkPSJodG1sX2ZkN2NmY2E1N2YyMDRmYzg4OTM5NTA5NjUyNmMwMWJjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NZWFuIENvLW9yZGluYXRlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wZWZmNmRlMDBhNDI0YjcwYjVjZTI1NGMzYmRmMzdmZS5zZXRDb250ZW50KGh0bWxfZmQ3Y2ZjYTU3ZjIwNGZjODg5Mzk1MDk2NTI2YzAxYmMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTg3ZTlhM2MxNWM2NDJjNGFjYjNlYzNmYWY2NGFmNDEuYmluZFBvcHVwKHBvcHVwXzBlZmY2ZGUwMGE0MjRiNzBiNWNlMjU0YzNiZGYzN2ZlKTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4= onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x7f6284600438>"
      ]
     },
     "execution_count": 126,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "maps[cities[0]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 130,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><span style=\"color:#565656\">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfMTViNjlkMzBmNDNhNDc2MWE0ZjgxNGIwYWQ4ZDllOTYgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzE1YjY5ZDMwZjQzYTQ3NjFhNGY4MTRiMGFkOGQ5ZTk2IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF8xNWI2OWQzMGY0M2E0NzYxYTRmODE0YjBhZDhkOWU5NiA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF8xNWI2OWQzMGY0M2E0NzYxYTRmODE0YjBhZDhkOWU5NicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNTEuNDkyNSwtMC4yMjA0XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDExLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Qm91bmRzOiBib3VuZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnM6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb3B5SnVtcDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgdGlsZV9sYXllcl83NzllMjVhOWZiY2Q0ZGRiYmIwZDZjYTc3N2NiODFhZCA9IEwudGlsZUxheWVyKAogICAgICAgICAgICAgICAgJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJywKICAgICAgICAgICAgICAgIHsKICAiYXR0cmlidXRpb24iOiBudWxsLAogICJkZXRlY3RSZXRpbmEiOiBmYWxzZSwKICAibWF4Wm9vbSI6IDE4LAogICJtaW5ab29tIjogMSwKICAibm9XcmFwIjogZmFsc2UsCiAgInN1YmRvbWFpbnMiOiAiYWJjIgp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xNWI2OWQzMGY0M2E0NzYxYTRmODE0YjBhZDhkOWU5Nik7CiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzI3MDEwYWU2NzdkNGU0Yzk2OTY5NzNmY2Y2YTliZTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS41MTY4NDg2LC0wLjIyMDQyODkwMDAwMDAwMTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTViNjlkMzBmNDNhNDc2MWE0ZjgxNGIwYWQ4ZDllOTYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTgxN2IyNDEwNzFkNGFiOGI4YjUxMGFjZDM1ZDE2NmIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDVlYWM3MDUwZjc5NDMxNmIzZDZkNGZkMDQ2MDBjZTUgPSAkKCc8ZGl2IGlkPSJodG1sX2Q1ZWFjNzA1MGY3OTQzMTZiM2Q2ZDRmZDA0NjAwY2U1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CaWhhIFRoaXMgR3V5IEx0ZC48L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU4MTdiMjQxMDcxZDRhYjhiOGI1MTBhY2QzNWQxNjZiLnNldENvbnRlbnQoaHRtbF9kNWVhYzcwNTBmNzk0MzE2YjNkNmQ0ZmQwNDYwMGNlNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zMjcwMTBhZTY3N2Q0ZTRjOTY5Njk3M2ZjZjZhOWJlMS5iaW5kUG9wdXAocG9wdXBfNTgxN2IyNDEwNzFkNGFiOGI4YjUxMGFjZDM1ZDE2NmIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgICAgIHZhciBwb2x5X2xpbmVfN2ViYmI2OTNlMTI3NDEzODk3MGQxMjQ5M2I3ODEwZTYgPSBMLnBvbHlsaW5lKAogICAgICAgICAgICAgICAgICAgIFtbNTEuNTA2ODEwNjg1MTkwMTgsIC0wLjE4NDgwMjc3OTE2MzkxMzU4XSwgWzUxLjUxNjg0ODYsIC0wLjIyMDQyODkwMDAwMDAwMTddXSwKICAgICAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IGZhbHNlLAogICJmaWxsQ29sb3IiOiAicmVkIiwKICAiZmlsbE9wYWNpdHkiOiAwLjIsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJub0NsaXAiOiBmYWxzZSwKICAib3BhY2l0eSI6IDAuNSwKICAic21vb3RoRmFjdG9yIjogMS4wLAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAxLjUKfSkuYWRkVG8obWFwXzE1YjY5ZDMwZjQzYTQ3NjFhNGY4MTRiMGFkOGQ5ZTk2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGZlNDJjNWNhOTdkNGI3MmFiNzRhOGM2N2U2NTJjZjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs1MS40ODM5MDg0NjU0NDQ5MywtMC4xNjI1ODQ3ODE2NDY3Mjg1Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8xNWI2OWQzMGY0M2E0NzYxYTRmODE0YjBhZDhkOWU5Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zODdkMmQ4OWRmYWU0NDFkYjNkODY0NThkNzQ3ZGQ1OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jNjVhNDAwOTIzNmY0NzM3YWZmODIzMzgyN2I0OGUxZCA9ICQoJzxkaXYgaWQ9Imh0bWxfYzY1YTQwMDkyMzZmNDczN2FmZjgyMzM4MjdiNDhlMWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRyYW5zZ2F5czwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzg3ZDJkODlkZmFlNDQxZGIzZDg2NDU4ZDc0N2RkNTguc2V0Q29udGVudChodG1sX2M2NWE0MDA5MjM2ZjQ3MzdhZmY4MjMzODI3YjQ4ZTFkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRmZTQyYzVjYTk3ZDRiNzJhYjc0YThjNjdlNjUyY2Y4LmJpbmRQb3B1cChwb3B1cF8zODdkMmQ4OWRmYWU0NDFkYjNkODY0NThkNzQ3ZGQ1OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICAgICAgdmFyIHBvbHlfbGluZV82NGFlMDNkMGIzMDg0N2Q1YmIwMDAyYzllOTdjZDBjMiA9IEwucG9seWxpbmUoCiAgICAgICAgICAgICAgICAgICAgW1s1MS41MDY4MTA2ODUxOTAxOCwgLTAuMTg0ODAyNzc5MTYzOTEzNThdLCBbNTEuNDgzOTA4NDY1NDQ0OTMsIC0wLjE2MjU4NDc4MTY0NjcyODUyXV0sCiAgICAgICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiBmYWxzZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC4yLAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAibm9DbGlwIjogZmFsc2UsCiAgIm9wYWNpdHkiOiAwLjUsCiAgInNtb290aEZhY3RvciI6IDEuMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMS41Cn0pLmFkZFRvKG1hcF8xNWI2OWQzMGY0M2E0NzYxYTRmODE0YjBhZDhkOWU5Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2QyMDUwYzA5OWRhNzQxYTI4OWIwOGZlY2Y3MWY1ZWQ5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTI5MTQyNjc1MzE1Nzk2LC0wLjIwMDI5NzQzNTAwODkyNDA4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzE1YjY5ZDMwZjQzYTQ3NjFhNGY4MTRiMGFkOGQ5ZTk2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA3YTYyMmRjZWJlNjQwODU5ZmRlYmI3NzE2ZTZjZDE2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2QxNmUzYjUwOWUxNjQ5ZWNhNDA5NTQ3YjhjMmU2MTc1ID0gJCgnPGRpdiBpZD0iaHRtbF9kMTZlM2I1MDllMTY0OWVjYTQwOTU0N2I4YzJlNjE3NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmFnZW5kPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wN2E2MjJkY2ViZTY0MDg1OWZkZWJiNzcxNmU2Y2QxNi5zZXRDb250ZW50KGh0bWxfZDE2ZTNiNTA5ZTE2NDllY2E0MDk1NDdiOGMyZTYxNzUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDIwNTBjMDk5ZGE3NDFhMjg5YjA4ZmVjZjcxZjVlZDkuYmluZFBvcHVwKHBvcHVwXzA3YTYyMmRjZWJlNjQwODU5ZmRlYmI3NzE2ZTZjZDE2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgICAgICB2YXIgcG9seV9saW5lX2ExNjFmNDUzY2UzNzQ4YmZhMWJiMzRiMWZlY2I1MWZlID0gTC5wb2x5bGluZSgKICAgICAgICAgICAgICAgICAgICBbWzUxLjUwNjgxMDY4NTE5MDE4LCAtMC4xODQ4MDI3NzkxNjM5MTM1OF0sIFs1MS41MjkxNDI2NzUzMTU3OTYsIC0wLjIwMDI5NzQzNTAwODkyNDA4XV0sCiAgICAgICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiBmYWxzZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC4yLAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAibm9DbGlwIjogZmFsc2UsCiAgIm9wYWNpdHkiOiAwLjUsCiAgInNtb290aEZhY3RvciI6IDEuMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMS41Cn0pLmFkZFRvKG1hcF8xNWI2OWQzMGY0M2E0NzYxYTRmODE0YjBhZDhkOWU5Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc5YjZjYzZlOGVjMDRjZWY5NWQ5ZTFjMjNlMzRlNzI0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNDk3MzQzLC0wLjE1NTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTViNjlkMzBmNDNhNDc2MWE0ZjgxNGIwYWQ4ZDllOTYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjY3MzY4NzdiM2Y1NGI2MDk3OGQyZmI1ZmNjMDM0ZjcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGE0MzYyYTJhYWY5NDU4MmE5MTgxMTI3ZmZhMzM0MDMgPSAkKCc8ZGl2IGlkPSJodG1sXzRhNDM2MmEyYWFmOTQ1ODJhOTE4MTEyN2ZmYTMzNDAzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5VcmJhbiBMYW5haSAtIExvbmRvbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjY3MzY4NzdiM2Y1NGI2MDk3OGQyZmI1ZmNjMDM0Zjcuc2V0Q29udGVudChodG1sXzRhNDM2MmEyYWFmOTQ1ODJhOTE4MTEyN2ZmYTMzNDAzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzc5YjZjYzZlOGVjMDRjZWY5NWQ5ZTFjMjNlMzRlNzI0LmJpbmRQb3B1cChwb3B1cF9iNjczNjg3N2IzZjU0YjYwOTc4ZDJmYjVmY2MwMzRmNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICAgICAgdmFyIHBvbHlfbGluZV9lMzgwM2NkNGM2ZDU0OWMyODM1ZTc2ZjM1NGYwNWM1NyA9IEwucG9seWxpbmUoCiAgICAgICAgICAgICAgICAgICAgW1s1MS41MDY4MTA2ODUxOTAxOCwgLTAuMTg0ODAyNzc5MTYzOTEzNThdLCBbNTEuNDk3MzQzLCAtMC4xNTU5XV0sCiAgICAgICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiBmYWxzZSwKICAiZmlsbENvbG9yIjogInJlZCIsCiAgImZpbGxPcGFjaXR5IjogMC4yLAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAibm9DbGlwIjogZmFsc2UsCiAgIm9wYWNpdHkiOiAwLjUsCiAgInNtb290aEZhY3RvciI6IDEuMCwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMS41Cn0pLmFkZFRvKG1hcF8xNWI2OWQzMGY0M2E0NzYxYTRmODE0YjBhZDhkOWU5Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBjOWMxYzNlNTM1MTRiMWFiMDMwOGJhNDBmYjE1ZGY0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNTEuNTA2ODEwNjg1MTkwMTgsLTAuMTg0ODAyNzc5MTYzOTEzNThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2Y2N2I2YSIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogMTAsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTViNjlkMzBmNDNhNDc2MWE0ZjgxNGIwYWQ4ZDllOTYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODllNWRmOWI2MmM4NDEzNGFlOGUwODg3NjUxZTVjMWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjE0YWIxODFkY2FiNDkzZjk3ZjBkNWEwMWFjYzcxZmIgPSAkKCc8ZGl2IGlkPSJodG1sX2YxNGFiMTgxZGNhYjQ5M2Y5N2YwZDVhMDFhY2M3MWZiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NZWFuIENvLW9yZGluYXRlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84OWU1ZGY5YjYyYzg0MTM0YWU4ZTA4ODc2NTFlNWMxYi5zZXRDb250ZW50KGh0bWxfZjE0YWIxODFkY2FiNDkzZjk3ZjBkNWEwMWFjYzcxZmIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGM5YzFjM2U1MzUxNGIxYWIwMzA4YmE0MGZiMTVkZjQuYmluZFBvcHVwKHBvcHVwXzg5ZTVkZjliNjJjODQxMzRhZThlMDg4NzY1MWU1YzFiKTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4= onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>"
      ],
      "text/plain": [
       "<folium.folium.Map at 0x7f62844f69b0>"
      ]
     },
     "execution_count": 130,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "maps[cities[6]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 139,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "London, SW7\n",
      "Mean Distance from Mean coordinates\n",
      "0.0032402762039001384\n"
     ]
    }
   ],
   "source": [
    "area = 'London, SW7'\n",
    "venues_mean_coor = [df_venues[area]['Lat'].mean(), df_venues[area]['Lng'].mean()] \n",
    "\n",
    "print(area)\n",
    "print(\"Mean Distance from Mean coordinates\")\n",
    "dists = np.apply_along_axis(lambda x: np.linalg.norm(x - venues_mean_coor),1,df_venues[area][['Lat','Lng']].values)\n",
    "dists.sort()\n",
    "print(np.mean(dists[:-1]))# Ignore the biggest distance"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.12"
  },
  "latex_envs": {
   "LaTeX_envs_menu_present": true,
   "autoclose": false,
   "autocomplete": true,
   "bibliofile": "biblio.bib",
   "cite_by": "apalike",
   "current_citInitial": 1,
   "eqLabelWithNumbers": true,
   "eqNumInitial": 1,
   "hotkeys": {
    "equation": "Ctrl-E",
    "itemize": "Ctrl-I"
   },
   "labels_anchors": false,
   "latex_user_defs": false,
   "report_style_numbering": false,
   "user_envs_cfg": false
  },
  "toc": {
   "base_numbering": 1,
   "nav_menu": {},
   "number_sections": false,
   "sideBar": false,
   "skip_h1_title": false,
   "title_cell": "Table of Contents",
   "title_sidebar": "Contents",
   "toc_cell": false,
   "toc_position": {
    "height": "476px",
    "left": "10px",
    "top": "150px",
    "width": "210px"
   },
   "toc_section_display": true,
   "toc_window_display": false
  },
  "varInspector": {
   "cols": {
    "lenName": 16,
    "lenType": 16,
    "lenVar": 40
   },
   "kernels_config": {
    "python": {
     "delete_cmd_postfix": "",
     "delete_cmd_prefix": "del ",
     "library": "var_list.py",
     "varRefreshCmd": "print(var_dic_list())"
    },
    "r": {
     "delete_cmd_postfix": ") ",
     "delete_cmd_prefix": "rm(",
     "library": "var_list.r",
     "varRefreshCmd": "cat(var_dic_list()) "
    }
   },
   "types_to_exclude": [
    "module",
    "function",
    "builtin_function_or_method",
    "instance",
    "_Feature"
   ],
   "window_display": false
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
